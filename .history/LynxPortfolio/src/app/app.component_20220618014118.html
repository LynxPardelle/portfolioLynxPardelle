<ng-container
  *ngIf="
    main && main.backgroundImg && main.backgroundImg.location;
    else elseBGMainTemplate
  "
>
  <div
    class="BGCustom position-fixed top-0 start-0 bef bef-wmn-100vw bef-hmn-100vh"
    [ngStyle]="{
      background:
        'url(' +
        urlMain +
        'get-file/' +
        main.backgroundImg.location +
        ') center center no-repeat',
      'background-size': 'cover'
    }"
  ></div>
</ng-container>
<ng-template #elseBGMainTemplate>
  <div
    class="BGdefault1 position-fixed top-0 start-0 bef bef-w-100vw bef-h-100vh"
  ></div>
  <div
    class="imgBGdefault1 position-fixed top-0 start-0 bef bef-w-100vw bef-h-100vh"
  ></div>
  <div
    class="imgBGdefault2 position-fixed top-0 start-0 bef bef-w-100vw bef-h-100vh"
  ></div>
  <div
    class="BGdefault2 position-fixed top-0 start-0 bef bef-w-100vw bef-h-100vh"
  ></div>
</ng-template>

<header class="position-fixed top-0 bef bef-z-5 w-100">
  <div
    class="d-flex flex-wrap bef bef-bg-tdark__OPA__0_5 justify-content-evenly align-items-center px-2 py-3 w-100"
  >
    <!-- Icon -->
    <a href="/" [routerLink]="['/']" class="text-center iconLynx w-max-15">
      <ng-container
        *ngIf="
          main && main.logo && main.logo.location;
          else elseLogoIconTemplate
        "
      >
        <img
          src="{{ urlMain + 'get-file/' + main.logo.location }}"
          alt="{{ lang === 'es' ? main.logo.title : main.logo.titleEng }}"
          title="{{
            lang === 'es'
              ? main.logo.title
              : main.logo.titleEng
              ? main.logo.titleEng
              : main.logo.title
          }}"
        />
      </ng-container>
      <ng-template #elseLogoIconTemplate>
        <img
          src="../assets/images/Lince.png"
          alt="Lynx Pardelle"
          title="Lynx Pardelle"
        />
      </ng-template>
    </a>
    <!-- Title -->
    <a
      href="/"
      [routerLink]="['/']"
      class="bef bef-wmx-50per mx-auto titleLynx text-decoration-none"
    >
      <h1 class="text-center h2">Lynx Pardelle</h1>
    </a>
    <!-- Menu -->
    <button
      class="btn menuIconContainer rounded-circle p-0 m-0 bef bef-wmx-15per"
      type="button"
      data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasMenu"
      aria-controls="offcanvasMenu"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="28"
        height="28"
        fill="currentColor"
        class="bi bi-list d-block mx-auto my-2"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
        />
      </svg>
    </button>
  </div>

  <div class="w-100 d-flex justify-content-end p-3">
    <div class="btn-group" dropdown placement="bottom right">
      <button
        id="button-basic"
        dropdownToggle
        type="button"
        class="btn btn-fullRed dropdown-toggle bef bef-text-tdark border-0 bef-boxShadow-0__0__0__transparent"
        aria-controls="dropdown-basic"
      >
        <ng-container *ngIf="lang === 'es'; else elseTemplate">
          Lenguaje
        </ng-container>
        <ng-template #elseTemplate>Language </ng-template>
        <span class="caret"></span>
      </button>
      <ul
        id="dropdown-basic"
        *dropdownMenu
        class="dropdown-menu w-100 p-0"
        role="menu"
        aria-labelledby="button-basic"
      >
        <li>
          <button
            (click)="changeLang('es')"
            class="dropdown-item btn w-100 py-3 bef bef-text-tdark bef-btn-fullRed text-center border-0 rounded-0"
          >
            Espa√±ol
          </button>
        </li>
        <li>
          <button
            (click)="changeLang('en')"
            class="dropdown-item btn w-100 py-3 bef bef-text-tdark bef-btn-fullRed text-center border-0 rounded-0"
          >
            English
          </button>
        </li>
      </ul>
    </div>
  </div>

  <!-- Off-canvas -->
  <div
    class="offcanvas offcanvas-start bef bef-bg-transparent w-100"
    tabindex="-1"
    id="offcanvasMenu"
    aria-labelledby="offcanvasMenuLabel"
    data-bs-scroll="true"
  >
    <div
      class="offcanvas-header bef bef-text-tlight px-2 pt-3 justify-content-end"
    >
      <button
        type="button"
        class="btn bef bef-bg-tdark fw-bold fs-1_5rem bef-text-tlight border-0 menuIconContainer rounded-circle p-0 m-0"
        data-bs-dismiss="offcanvas"
        aria-label="Close"
      >
        X
      </button>
    </div>
    <div class="offcanvas-body">
      <ul
        class="w-75 bef bef-wmx-300px px-0 py-3 my-3 mx-auto offcanvasul rounded-30 bef-hmx-75vh"
      >
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/"
            [routerLink]="['/']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.inicio" | translate }}
          </a>
        </li>
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/webs"
            [routerLink]="['/webs']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.websites" | translate }}
          </a>
        </li>
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/reel"
            [routerLink]="['/reel']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.demoreel" | translate }}
          </a>
        </li>
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/book"
            [routerLink]="['/book']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.book" | translate }}
          </a>
        </li>
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/music"
            [routerLink]="['/music']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.music" | translate }}
          </a>
        </li>
        <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/cv"
            [routerLink]="['/cv']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.cv" | translate }}
          </a>
        </li>
        <!--
          <li class="text-center my-4 h3">
          <a
            class="d-block mx-auto bef bef-text-fullYellow text-decoration-none"
            href="/blog"
            [routerLink]="['/blog']"
            data-bs-dismiss="offcanvas"
          >
            {{ "app.blog" | translate }}
          </a>
        </li>
        -->
      </ul>
    </div>
  </div>
</header>

<main class="my-5 py-4 mx-auto">
  <!-- CONTENT -->
  <router-outlet></router-outlet>
</main>

<footer
  class="d-flex justify-content-between px-4 py-2 align-items-center position-fixed bottom-0 w-100 bef bef-z-10"
>
  <div>
    <div
      class="d-flex bef bef-bg-tdark__OPA__0_75 bef-boxShadow-0__0__10px__fullRed bef-rounded-50px p-3 justify-content-between align-items-center"
      *ngIf="currentSong && currentSong._id"
    >
      <button
        *ngIf="
          currentSong.song &&
          currentSong.song.location &&
          currentSong.song.location !== '' &&
          currentAudio.paused !== false
        "
        (click)="playAudio(currentSong)"
        class="btn w-10 bef bef-text-fullRed bef-boxShadow-0__0__10px__fullRed bef-p-6px bef-mx-6px rounded-circle"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-play-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"
          />
        </svg>
      </button>
      <button
        *ngIf="currentAudio.paused === false"
        class="btn w-10 bef bef-text-fullRed bef-boxShadow-0__0__10px__fullRed bef-p-6px bef-mx-6px rounded-circle"
        (click)="pause()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-pause-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"
          />
        </svg>
      </button>
      <a
        href="{{ currentSong.link }}"
        target="_blank"
        class="btn bef bef-w-80per m-0 text-left bef-text-fullRed"
      >
        {{ currentSong.title }}
      </a>
      <button
        (click)="
          copyToClipBoard(
            currentSong.song &&
              currentSong.song.location &&
              currentSong.song.location !== ''
              ? urlMain + 'get-file/' + currentSong.song.location
              : currentSong.link && currentSong.link !== ''
              ? currentSong.link
              : ''
          )
        "
        *ngIf="
          (currentSong.song &&
            currentSong.song.location &&
            currentSong.song.location !== '') ||
          (currentSong.link && currentSong.link !== '')
        "
        class="btn w-10 bef bef-text-fullRed bef-boxShadow-0__0__10px__fullRed bef-p-6px bef-mx-6px rounded-circle"
        tooltip="{{
          (lang === 'en'
            ? 'Copied to ClipBoard: '
            : 'Copiado al portapapeles: ') +
            (currentSong.song &&
            currentSong.song.location &&
            currentSong.song.location !== ''
              ? urlMain + 'get-file/' + currentSong.song.location
              : currentSong.link && currentSong.link !== ''
              ? currentSong.link
              : '')
        }}"
        placement="top"
        [isDisabled]="
          (!currentSong.song ||
            copiedToClipBoard !==
              urlMain + 'get-file/' + currentSong.song.location) &&
          copiedToClipBoard !== currentSong.link
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-link"
          viewBox="0 0 16 16"
        >
          <path
            d="M6.354 5.5H4a3 3 0 0 0 0 6h3a3 3 0 0 0 2.83-4H9c-.086 0-.17.01-.25.031A2 2 0 0 1 7 10.5H4a2 2 0 1 1 0-4h1.535c.218-.376.495-.714.82-1z"
          />
          <path
            d="M9 5.5a3 3 0 0 0-2.83 4h1.098A2 2 0 0 1 9 6.5h3a2 2 0 1 1 0 4h-1.535a4.02 4.02 0 0 1-.82 1H12a3 3 0 1 0 0-6H9z"
          />
        </svg>
      </button>
      <a
        href="/music"
        [routerLink]="['/music']"
        class="btn w-10 bef bef-text-fullRed border-0 bef-w-40px bef-h-38px bef-boxShadow-0__0__10px__fullRed bef-p-6px bef-mx-6px rounded-circle"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          class="bi bi-list-ul bef bef-w-24px bef-h-24px"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
          />
        </svg>
      </a>
    </div>
  </div>

  <!-- Whats -->
  <a id="whatsappIcon" href="">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="currentColor"
      class="bi bi-whatsapp"
      viewBox="0 0 16 16"
    >
      <path
        d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"
      />
    </svg>
  </a>
</footer>
