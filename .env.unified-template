# =============================================================================
# Environment Configuration Template for MongoDB Unified Container
# =============================================================================
# Copy this file to .env and configure values for your deployment

# =============================================================================
# Application Configuration
# =============================================================================
COMPOSE_PROJECT_NAME=portfolio
NODE_ENV=production
DEBUG=app:error

# =============================================================================
# MongoDB Unified Container Configuration
# =============================================================================

# MongoDB Core
MONGO_VERSION=8.0.13
MONGO_PORT=27017
MONGO_ROOT_USERNAME=root
MONGO_ROOT_PASSWORD=change_this_root_password

# Application Database
MONGO_APP_DB=lynx_portfolio
MONGO_APP_USER=portfolio_user
MONGO_APP_PASSWORD=change_this_app_password
MONGO_APP_TEST_DB=lynx_portfolio_test

# Data Persistence
MONGO_DATA_PATH=./data/mongo
MONGO_LOG_PATH=./logs/mongo

# =============================================================================
# S3 Backup Configuration
# =============================================================================
S3_BUCKET_NAME=your-backup-bucket
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your-access-key
S3_SECRET_ACCESS_KEY=your-secret-key
S3_BACKUP_PATH=backups
S3_DEPLOYMENT_BACKUP_PATH=deployment-backups
S3_ENDPOINT=https://s3.amazonaws.com

# =============================================================================
# Unified Container Features
# =============================================================================
ENABLE_BACKUP_SERVICE=true
ENABLE_HEALTH_MONITORING=true
SUPERVISOR_LOG_LEVEL=info
MONGO_BACKUP_KEEP=7

# =============================================================================
# Resource Management
# =============================================================================
# MongoDB Resources
MONGO_MEMORY_LIMIT=1G
MONGO_CPU_LIMIT=1.0
MONGO_MEMORY_RESERVATION=512M
MONGO_CPU_RESERVATION=0.5

# Application Resources
APP_REPLICAS=2
APP_MEMORY_LIMIT=512M
APP_CPU_LIMIT=0.5

# =============================================================================
# Network Configuration
# =============================================================================
NETWORK_SUBNET=172.20.0.0/16
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# Application Ports
# =============================================================================
DEV_PORT=6165
PROD_PORT=6165
NGINX_PORT=80

# =============================================================================
# Build Configuration
# =============================================================================
DOCKER_REGISTRY=
BUILD_DATE=
VCS_REF=

# =============================================================================
# System Configuration
# =============================================================================
TZ=UTC
LANG=en_US.UTF-8

# =============================================================================
# Legacy Configuration (Backward Compatibility)
# =============================================================================
# These values are used for legacy mongo service fallback
UID=1000
GID=1000
MONGO_URI=mongodb://portfolio_user:portfolio_pass@mongo:27017/lynx_portfolio
MONGO_AUTH_SOURCE=admin
NGINX_HOST=localhost

# =============================================================================
# Application Environment Variables
# =============================================================================
CORS_ORIGIN=*
JWT_SECRET=your-jwt-secret
REDIS_URL=

# CloudFront CDN Configuration
CLOUDFRONT_DOMAIN=
CLOUDFRONT_DISTRIBUTION_ID=

# S3 Upload Configuration
S3_UPLOAD_PREFIX=uploads/
S3_KMS_KEY_ARN=

# AWS IAM Configuration
AWS_ROLE_TO_ASSUME=

# Development Settings
CHOKIDAR_USEPOLLING=false

# Feature Flags
USE_S3_CDN_STORAGE=true
ENABLE_LEGACY_FILESYSTEM=false
LOG_UPLOAD_PATHS=false
FEATURE_FLAG_LOGGING=false