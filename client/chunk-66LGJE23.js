import{a as Je}from"./chunk-HHEXJANS.js";import{$b as Qe,Aa as D,Ba as w,Ca as B,Da as Te,Ga as F,Gb as he,Ha as j,Hb as ie,I as We,Ia as Me,J as ue,Ja as Be,Kb as V,L as me,Lb as ve,Ma as Oe,Mb as ne,Na as Ce,Nb as oe,O as d,Oa as H,Ob as re,P as u,Pa as Q,Pb as Re,Q as L,Qb as Ue,Ra as Ne,Rb as Ge,Sb as Se,T as J,Ta as Ye,Tb as z,Ub as Xe,Vb as qe,X as Z,Y as E,Yb as Ze,Zb as le,_ as a,_b as ce,aa as v,ac as Ke,ba as M,bc as we,ca as fe,cc as et,d as Ee,da as g,db as xe,dc as tt,e as ze,ea as _,fa as be,ga as P,gb as K,ha as l,hb as Ve,ia as p,ib as G,ic as it,ja as x,jb as ee,ka as ke,kb as O,la as Ie,lb as Pe,ma as C,na as f,nb as Fe,oa as c,pa as S,qa as ge,ra as Ae,sa as $,ta as b,ua as je,va as y,wa as k,xa as I,ya as A,zb as te}from"./chunk-XXYOSJJU.js";var N=(()=>{class t{constructor(e,o,n){this._http=e,this._mainService=o,this.store=n,this.urlBlog=G.api+"/article/",this.identity$=n.select(Je),this.store.dispatch(ie()),this.getIdentity()}getIdentity(){this.identity$.subscribe({next:e=>{e!==void 0&&(this.identity=e)},error:e=>console.error(e)})}createArticle(e){return this._http.post(`${this.urlBlog}article`,JSON.stringify(e))}createArticleSection(e){return this._http.post(`${this.urlBlog}articleSection`,JSON.stringify(e))}createArticleCat(e){return this._http.post(`${this.urlBlog}articleCat`,JSON.stringify(e))}createArticleSubCat(e){return this._http.post(`${this.urlBlog}articleSubCat`,JSON.stringify(e))}getArticles(e=1,o=5,n="_id",s,h,T){return this._http.get(`${this.urlBlog}articles/${e}/${o}/${n}${s?`/${s}`:""}${h?`/${h}`:""}${T?`/${T}`:""}`)}getArticleCats(){return this._http.get(`${this.urlBlog}article-cats`)}getArticleSubCats(){return this._http.get(`${this.urlBlog}article-sub-cats`)}getArticle(e){return this._http.get(`${this.urlBlog}article/${e}`)}updateArticle(e){return this._http.put(`${this.urlBlog}article/${e._id}`,JSON.stringify(e))}updateArticleSection(e){return this._http.put(`${this.urlBlog}article-section/${e._id}`,JSON.stringify(e))}updateArticleCat(e){return this._http.put(`${this.urlBlog}article-cat/${e._id}`,JSON.stringify(e))}updateArticleSubCat(e){return this._http.put(`${this.urlBlog}article-sub-cat/${e._id}`,JSON.stringify(e))}deleteArticle(e){return this._http.delete(`${this.urlBlog}article/${e}`)}deleteArticleSection(e){return this._http.delete(`${this.urlBlog}article-section/${e}`)}deleteArticleCat(e){return this._http.delete(`${this.urlBlog}article-cat/${e}`)}deleteArticleSubCat(e){return this._http.delete(`${this.urlBlog}article-sub-cat/${e}`)}static{this.\u0275fac=function(o){return new(o||t)(me(Ye),me(ee),me(te))}}static{this.\u0275prov=We({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rt=()=>["/blog/article"];function yt(t,r){t&1&&(l(0,"a",5),b(1,"Crear nuevo art\xEDculo"),p()),t&2&&_("routerLink",D(1,rt))}function Et(t,r){if(t&1){let e=C();l(0,"article",8),f("ngInit",function(){d(e);let n=c(2);return u(n.cssCreate())}),l(1,"h3",9),b(2,"Title"),p(),l(3,"span",10),b(4," dd/mm/yy "),p(),x(5,"img",11),l(6,"div",12)(7,"span",13),b(8," Nuevo "),p(),l(9,"span",14),b(10," Cat 1 "),p(),l(11,"span",15),b(12," Cat 2 "),p()(),l(13,"div",16)(14,"p",17),b(15," Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore blanditiis amet inventore, nobis harum perspiciatis aut alias qui unde explicabo accusamus. "),p(),l(16,"a",18),b(17,"Ver m\xE1s"),p()()()}if(t&2){let e=r.index,o=r.last;_("exist",o),a(5),Ae("src","https://picsum.photos/30",e,"/30",e,"",E),Ae("alt","https://picsum.photos/30",e,"/30",e,""),a(11),_("routerLink",D(8,rt))}}function kt(t,r){if(t&1&&(ke(0),l(1,"section",6),g(2,Et,18,9,"article",7),p(),Ie()),t&2){let e=c();a(2),_("ngForOf",e.articles)}}function It(t,r){t&1&&(ke(0),l(1,"p",19),b(2,"No hay art\xEDculos."),p(),Ie())}function At(t,r){t&1&&(l(0,"p",19),b(1,"Cargando..."),p())}function Tt(t,r){if(t&1&&g(0,It,3,0,"ng-container",4)(1,At,2,0,"ng-template",null,1,Be),t&2){let e=$(2),o=c();_("ngIf",!o.loading)("ngIfElse",e)}}var U=(()=>{class t{constructor(e,o,n,s,h,T,St,De,He){this._route=e,this._mainService=o,this._webService=n,this._befService=s,this._blogService=h,this._translate=T,this._location=St,this._sharedService=De,this.store=He,this.articles=[],this.page=1,this.next_page=2,this.prev_page=1,this.total=0,this.itemsPerPage=5,this.noMore=!1,this.search="",this.loading=!0,this.lang="es",this.urlMain=G.api+"/main/",this.document="blog.component.ts",this.customConsoleCSS="background-color: rgba(75, 5, 200, 1); color: white; padding: 1em;",this.edit=!1,this.windowWidth=window.innerWidth,De.changeEmitted$.subscribe(Y=>{if(typeof Y=="object"&&Y.from!=="blog"&&(Y.to==="blog"||Y.to==="all"))switch(Y.property){case"lang":this.lang=Y.thing;break;case"identity":this.identity=Y.thing;break;case"windowWidth":this.windowWidth=Y.thing;break;case"onlyConsoleMessage":this._webService.consoleLog(Y.thing,this.document+" 67",this.customConsoleCSS);break}}),this.main$=He.select(he),this.identity=this._mainService.getIdentity(),this._webService.consoleLog(this.identity,this.document+" 79",this.customConsoleCSS),this._sharedService.emitChange({from:"blog",to:"all",property:"identity",thing:this.identity}),this.store.dispatch(ie())}ngOnInit(){this._sharedService.emitChange({from:"blog",to:"all",property:"onlyConsoleMessage",thing:"Data from blog"}),this.getMain(),this.getBlog()}getMain(){this.main$.subscribe({next:e=>{e!==void 0&&(this.main=e,this.cssCreate())},error:e=>console.error(e)})}getBlog(){this.articles=[],this.loading=!0,this._route.params.subscribe({next:e=>{this.page=e.page?e.page:this.page,this.search=e.search?e.search:e.cat?e.cat:e.subcat?e.subcat:this.search,this.next_page=this.page+1,this.prev_page=this.page>1?this.page-1:1,this._blogService.getArticles(this.page,5,"_id","all","all",this.search||void 0).subscribe({next:o=>{this._webService.consoleLog(o,this.document+" 114",this.customConsoleCSS),this.loading},error:o=>{this.loading=!1,this._webService.consoleLog(o,this.document+" 165",this.customConsoleCSS)}})},error:e=>{this.loading=!1,this._webService.consoleLog(e,this.document+" 165",this.customConsoleCSS)}})}cssCreate(){this._befService.cssCreate()}static{this.\u0275fac=function(o){return new(o||t)(v(xe),v(ee),v(O),v(V),v(N),v(Pe),v(Oe),v(ve),v(te))}}static{this.\u0275cmp=M({type:t,selectors:[["blog"]],standalone:!1,decls:6,vars:3,consts:[["elseNoArticlesTemplate",""],["elseLoadingTemplate",""],[1,"text-center","bef","bef-my-3rem"],["href","/article","class","d-block mx-auto my-3 btn bef bef-w-clampSD200pxCOM25perCOM300pxED bef-btn-fullYellow bef-text-tdark p-2",3,"routerLink",4,"ngIf"],[4,"ngIf","ngIfElse"],["href","/article",1,"d-block","mx-auto","my-3","btn","bef","bef-w-clampSD200pxCOM25perCOM300pxED","bef-btn-fullYellow","bef-text-tdark","p-2",3,"routerLink"],[1,"w-100","d-flex","flex-wrap","justify-content-evenly"],["class","card bef bef-w-95per bef-wmx-300px mx-auto my-3 bef-bg-fullRed bef-text-tlight p-3 bef-rounded-15px",3,"exist","ngInit",4,"ngFor","ngForOf"],[1,"card","bef","bef-w-95per","bef-wmx-300px","mx-auto","my-3","bef-bg-fullRed","bef-text-tlight","p-3","bef-rounded-15px",3,"ngInit","exist"],[1,"card-title","text-center"],[1,"my-1","text-center"],[1,"w-50","obj-fit-cover","d-block","mx-auto","my-3","bef","bef-rounded-15px","bef-boxShadow-0__2px__2px__tdark",3,"src","alt"],[1,"d-flex","flex-wrap","justify-content-evenly","w-75","mx-auto"],[1,"badge","bg-info"],[1,"badge","bg-success"],[1,"badge","bg-warning"],[1,"card-body"],[1,"card-text","my-3"],["href","/article",1,"card-link","badge","bef","bef-btn-fullYellow","bef-text-tdark","p-2",3,"routerLink"],[1,"text-center","p-5"]],template:function(o,n){if(o&1&&(l(0,"h2",2),b(1,"Blog"),p(),g(2,yt,2,2,"a",3)(3,kt,3,1,"ng-container",4)(4,Tt,3,2,"ng-template",null,0,Be)),o&2){let s=$(5);a(2),_("ngIf",n.identity&&n.identity.role=="ROLE_ADMIN"),a(),_("ngIf",n.articles.length>0)("ngIfElse",s)}},dependencies:[H,Q,K,z],encapsulation:2})}}return t})();var Mt=t=>["/blog/list-cat/",t,"1"];function Bt(t,r){if(t&1){let e=C();l(0,"a",2),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())}),b(1),p()}if(t&2){let e=r.$implicit,o=r.last;P("btn text-center bef-lh-1_5 badge rounded-pill px-3 py-1 bef-bg-",e.buttonColor?e.buttonColor.replace("#","HASH"):"dark"," bef-text-",e.titleColor?e.titleColor.replace("#","HASH"):"light",""),ge("href","/blog/list-cat/",e._id,"/1",E),_("exist",o)("routerLink",w(9,Mt,e._id)),a(),y(" ",e.title," ")}}var lt=(()=>{class t{constructor(e){this._befService=e,this.lang="es"}cssCreate(){this._befService.cssCreate()}static{this.\u0275fac=function(o){return new(o||t)(v(V))}}static{this.\u0275cmp=M({type:t,selectors:[["blog-cat-badgets"]],inputs:{cats:"cats",lang:"lang"},standalone:!1,decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mx-auto","bef","bef-w-clampSD200pxCOM50perCOM50perED","bef-my-1_5rem"],["rel"," noopener noreferrer ",3,"exist","class","routerLink","href","ngInit",4,"ngFor","ngForOf"],["rel"," noopener noreferrer ",3,"ngInit","exist","routerLink","href"]],template:function(o,n){o&1&&(l(0,"div",0),g(1,Bt,2,11,"a",1),p()),o&2&&(a(),_("ngForOf",n.cats))},dependencies:[H,K,z],encapsulation:2})}}return t})();var Ft=t=>["/blog/list-subcat/",t,"1"];function Lt(t,r){if(t&1){let e=C();l(0,"a",2),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())}),b(1),p()}if(t&2){let e=r.$implicit,o=r.last,n=c();be("btn text-center bef-lh-1_5 badge rounded-pill px-3 py-1 ","bef-text-"+e.titleColor.replace("#","HASH")+" bef-bg-"+e.buttonColor.replace("#","HASH"),""),ge("href","/blog/list-subcat/",e._id,"/1",E),_("exist",o)("routerLink",w(8,Ft,e._id)),a(),y(" ",n.lang==="es"?e.title:e.titleEng," ")}}var ct=(()=>{class t{constructor(e){this._befService=e,this.lang="es"}cssCreate(){this._befService.cssCreate()}static{this.\u0275fac=function(o){return new(o||t)(v(V))}}static{this.\u0275cmp=M({type:t,selectors:[["blog-subcat-badgets"]],inputs:{subcats:"subcats",lang:"lang"},standalone:!1,decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mx-auto","bef","bef-w-clampSD200pxCOM50perCOM50perED","bef-my-1_5rem"],["rel"," noopener noreferrer ",3,"exist","class","routerLink","href","ngInit",4,"ngFor","ngForOf"],["rel"," noopener noreferrer ",3,"ngInit","exist","routerLink","href"]],template:function(o,n){o&1&&(l(0,"div",0),g(1,Lt,2,10,"a",1),p()),o&2&&(a(),_("ngForOf",n.subcats))},dependencies:[H,K,z],encapsulation:2})}}return t})();var X=Ee(Fe());var Dt=()=>({text:"La categor\xEDa no es v\xE1lida.",evalThing:"required",spanClass:"bef-text-fullRed"}),st=t=>[t],Ht=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-3 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Cancelar"}),at=t=>({type:"aceptCat",classButton:"bef-btn-fullYellow bef-cursor-pointer mx-3 bef-w-50px bef-h-50px",disabledClassButton:"mx-3 bef-w-50px bef-h-50px",customHtml:"aceptCat",tooltip:"Aceptar",disabled:t}),ut=(t,r)=>[t,r],zt=(t,r)=>({"bef-bc-success":t,"bef-bc-transparent":r}),Wt=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-2 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Editar"}),jt=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-2 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Borrar"});function Ot(t,r){if(t&1){let e=C();l(0,"div",10),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())}),l(1,"label",11),f("click",function(){let n=d(e).index,s=c();return u(s.onClickChangeCat(s.cats[n]._id))}),b(2),p(),l(3,"generic-group-buttons",9),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()()}if(t&2){let e=r.$implicit,o=r.index,n=r.last,s=c();_("exist",n)("ngClass",B(9,zt,!!s.catBringer(e,!0),!s.catBringer(e,!0))),a(),P("d-block badge rounded-pill bef bef-mb-1rem bef-p-0_5rem__1rem bef-bg-",e.buttonColor?s.befisize(e.buttonColor):"dark"," bef-text-",e.titleColor?s.befisize(e.titleColor):"light",""),a(),y(" ",e.title," "),a(),_("buttonComboClass","d-flex justify-content-center")("buttons",B(18,ut,B(12,Wt,"edit\u253Ccat\u253C"+s.cats[o]._id,"edit\u253Ccat\u253C"+s.cats[o]._id),B(15,jt,"delete\u253Ccat\u253C"+s.cats[o]._id,"delete\u253Ccat\u253C"+s.cats[o]._id)))}}var mt=(()=>{class t{constructor(e,o,n){this._blogService=e,this._webService=o,this._befService=n,this.cat={_id:"",title:"",titleEng:"",titleColor:"",textColor:"",textColor2:"",linkColor:"",linkColor2:"",bgColor:"",bgColor2:"",buttonColor:"",subcats:[],show:!0,create_at:new Date},this.getArticleCats=new J,this.catSelected=new J}ngOnInit(){this.cssCreate()}onSubmitCatDelete(e){X.default.fire({title:"\xBFEstas seguro?",text:"\xA1Una vez borrada la categor\xEDa, ya no se podr\xE1 recuperar!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel"}).then(o=>{if(o?.isConfirmed){let n=e._id;this._webService.consoleLog(n),this._blogService.deleteArticleCat(n).subscribe({next:s=>{this.getArticleCats.emit(),X.default.fire("Categor\xEDa eliminada","La categor\xEDa fue borrada con \xE9xito","success")},error:s=>{this._webService.consoleLog(s),X.default.fire("Error al eliminar","Hubo un error al eliminar, favor de revisar la consola","success")}})}else X.default.fire("Calma, nada se borr\xF3")})}onSubmitCat(){console.log("cat",this.cat),this.cat.buttonColor==""||this.cat.titleColor==""||this.cat.title==""?X.default.fire("Faltan datos","Es necesario los colores de fondo y texto y el nombre de la categor\xEDa.","error"):this.cat._id?this._blogService.updateArticleCat(this.cat).subscribe({next:e=>{this._webService.consoleLog(e),e.articleCat&&(this.cat={_id:"",title:"",titleEng:"",titleColor:"",textColor:"",textColor2:"",linkColor:"",linkColor2:"",bgColor:"",bgColor2:"",buttonColor:"",subcats:[],show:!0,create_at:new Date},X.default.fire("Categor\xEDa actualizada","La categor\xEDa fue actualizada con \xE9xito","success"),this.getArticleCats.emit())},error:e=>{this._webService.consoleLog(e)}}):this._blogService.createArticleCat(this.cat).subscribe({next:e=>{this._webService.consoleLog(e),e.articleCat&&(this.cat={_id:"",title:"",titleEng:"",titleColor:"",textColor:"",textColor2:"",linkColor:"",linkColor2:"",bgColor:"",bgColor2:"",buttonColor:"",subcats:[],show:!0,create_at:new Date},X.default.fire("Categor\xEDa creada","La categor\xEDa fue creada con \xE9xito","success"),this.getArticleCats.emit())},error:e=>{this._webService.consoleLog(e)}})}onClickChangeCat(e){!this.article.cat!==e?this.article.cat=e:delete this.article.cat,this.catSelected.emit()}catBringer(e,o=!1){let n=this.article.cat;return(typeof e!="string"&&e._id?e._id:e.toString())===(typeof n!="string"&&n._id?n._id:n.toString())}onClickCatUpdate(e){this.cat!==e&&e?this.cat=e:this.cat={_id:"",title:"",titleEng:"",titleColor:"",textColor:"",textColor2:"",linkColor:"",linkColor2:"",bgColor:"",bgColor2:"",buttonColor:"",subcats:[],show:!0,create_at:new Date}}onClickButton(e){switch(!0){case(e.includes("edit\u253Ccat\u253C")||e.includes("cancel\u253Ccat\u253C")):let o=this.cats.find(s=>s._id===e.split("\u253C")[2]);this.onClickCatUpdate(o);break;case e.includes("delete\u253Ccat\u253C"):let n=this.cats.find(s=>s._id===e.split("\u253C")[2]);n&&this.onSubmitCatDelete(n);break;case e==="aceptCat":console.log("aceptCat"),this.onSubmitCat();break;default:break}}cssCreate(){this._befService.cssCreate()}befisize(e){return this._befService.befysize(e)}static{this.\u0275fac=function(o){return new(o||t)(v(N),v(O),v(V))}}static{this.\u0275cmp=M({type:t,selectors:[["blog-cat-edit"]],inputs:{article:"article",cats:"cats"},outputs:{getArticleCats:"getArticleCats",catSelected:"catSelected"},standalone:!1,decls:13,vars:38,consts:[[1,"text-center","bef-my-1_5rem","bef-text-tlight"],[1,"d-flex","justify-content-evenly","align-items-center","flex-wrap"],["class","p-2 text-center bef bef-lh-1_5 bef-bw-0_25rem bef-bs-solid bef-r-25px",3,"exist","ngClass","ngInit",4,"ngFor","ngForOf"],[1,"d-block","my-3"],[1,"d-block","w-75","mx-auto","my-3",3,"changesInput","thingFather","thing","type","labelTitle","placeholder","spans","labelClasses","inputClasses","inputContainerClasses","hrClasses"],["for","cat.buttonColor"],["type","color","id","cat.buttonColor","name","cat.buttonColor","value","cat.buttonColor",3,"ngModelChange","ngModel"],["for","cat.titleColor"],["type","color","id","cat.titleColor","name","cat.titleColor","value","cat.titleColor",3,"ngModelChange","ngModel"],[3,"clicked","buttonComboClass","buttons"],[1,"p-2","text-center","bef","bef-lh-1_5","bef-bw-0_25rem","bef-bs-solid","bef-r-25px",3,"ngInit","exist","ngClass"],[3,"click"]],template:function(o,n){o&1&&(l(0,"h3",0),b(1,` Selecciona la categor\xEDa del art\xEDculo
`),p(),l(2,"div",1),g(3,Ot,4,21,"div",2),p(),l(4,"div",3)(5,"generic-input",4),f("changesInput",function(){return null}),p(),l(6,"label",5),b(7," Color del fondo de la categor\xEDa "),l(8,"input",6),A("ngModelChange",function(h){return I(n.cat.buttonColor,h)||(n.cat.buttonColor=h),h}),f("ngModelChange",function(){return n.cssCreate()}),p()(),l(9,"label",7),b(10," Color de las letras de la categor\xEDa "),l(11,"input",8),A("ngModelChange",function(h){return I(n.cat.titleColor,h)||(n.cat.titleColor=h),h}),f("ngModelChange",function(){return n.cssCreate()}),p()(),l(12,"generic-group-buttons",9),f("clicked",function(h){return n.onClickButton(h)}),p()()),o&2&&(a(3),_("ngForOf",n.cats),a(2),_("thingFather",n.cat)("thing","title")("type","text")("labelTitle","Categor\xEDa")("placeholder","Categor\xEDa")("spans",w(24,st,D(23,Dt)))("labelClasses","bef-text-tlight")("inputClasses","bef-text-fullYellow w-100 border-0 bg-transparent")("inputContainerClasses","d-flex bef bef-w-100per align-items-center")("hrClasses","bef-bg-tlight"),a(),P("btn d-block w-75 mx-auto my-2 bef bef-bg-",n.cat.buttonColor?n.befisize(n.cat.buttonColor):"dark"," bef-text-",n.cat.titleColor?n.befisize(n.cat.titleColor):"light",""),a(2),k("ngModel",n.cat.buttonColor),a(),P("btn d-block w-75 mx-auto my-2 bef bef-bg-",n.cat.buttonColor?n.befisize(n.cat.buttonColor):"dark"," bef-text-",n.cat.titleColor?n.befisize(n.cat.titleColor):"light",""),a(2),k("ngModel",n.cat.titleColor),a(),_("buttonComboClass","d-flex justify-content-center")("buttons",n.cat._id?B(31,ut,B(26,Ht,"cancel\u253Ccat\u253C"+n.cat._id,"cancel\u253Ccat\u253C"+n.cat._id),w(29,at,!n.cat.title)):w(36,st,w(34,at,!n.cat.title))))},dependencies:[Ce,H,ne,oe,re,z,le,ce],encapsulation:2})}}return t})();var q=Ee(Fe());var Yt=()=>({text:"La sub-categor\xEDa no es v\xE1lida.",evalThing:"required",spanClass:"bef-text-fullRed"}),ft=t=>[t],Pt=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-3 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Cancelar"}),bt=t=>({type:"aceptCat",classButton:"bef-btn-fullYellow bef-cursor-pointer mx-3 bef-w-50px bef-h-50px",disabledClassButton:"mx-3 bef-w-50px bef-h-50px",customHtml:"aceptCat",tooltip:"Aceptar",disabled:t}),gt=(t,r)=>[t,r],Rt=(t,r)=>({"bef-bc-success":t,"bef-bc-transparent":r}),Ut=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-2 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Editar"}),Gt=(t,r)=>({type:t,classButton:"bef-btn-fullYellow bef-cursor-pointer mx-2 bef-w-50px bef-h-50px",customHtml:r,tooltip:"Borrar"});function Xt(t,r){if(t&1){let e=C();l(0,"div",10),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())}),l(1,"label",11),f("click",function(){let n=d(e).index,s=c();return u(s.onClickChangeSubCat(s.subCats[n]._id))}),b(2),p(),l(3,"generic-group-buttons",9),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()()}if(t&2){let e=r.$implicit,o=r.index,n=r.last,s=c();_("exist",n)("ngClass",B(8,Rt,!!s.subCatBringer(e,!0),!s.subCatBringer(e,!0))),a(),be("d-block badge rounded-pill bef bef-mb-1rem bef-p-0_5rem__1rem ","bef-text-"+e.titleColor.replace("#","HASH")+" bef-bg-"+e.buttonColor.replace("#","HASH"),""),a(),y(" ",e.title," "),a(),_("buttonComboClass","d-flex justify-content-center")("buttons",B(17,gt,B(11,Ut,"edit\u253CsubCat\u253C"+s.subCats[o]._id,"edit\u253CsubCat\u253C"+s.subCats[o]._id),B(14,Gt,"delete\u253CsubCat\u253C"+s.subCats[o]._id,"delete\u253CsubCat\u253C"+s.subCats[o]._id)))}}var Ct=(()=>{class t{constructor(e,o,n){this._blogService=e,this._webService=o,this._befService=n,this.subCat={_id:"",title:"",titleEng:"",titleColor:"",buttonColor:"",cat:"",show:!0,create_at:new Date},this.getArticleSubCats=new J}ngOnInit(){this.cssCreate()}onSubmitSubCatDelete(e){q.default.fire({title:"\xBFEstas seguro?",text:"\xA1Una vez borrada la sub-categor\xEDa, ya no se podr\xE1 recuperar!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel"}).then(o=>{if(o?.isConfirmed){let n=e._id;this._webService.consoleLog(n),this._blogService.deleteArticleSubCat(n).subscribe({next:s=>{this.getArticleSubCats.emit(),q.default.fire("Sub-categor\xEDa eliminada","La sub-categor\xEDa fue borrada con \xE9xito","success")},error:s=>{this._webService.consoleLog(s),q.default.fire("Error al eliminar","Hubo un error al eliminar, favor de revisar la consola","success")}})}else q.default.fire("Calma, nada se borr\xF3")})}onSubmitSubCat(){this.subCat.cat=this.article.cat,this.subCat.buttonColor==""||this.subCat.titleColor==""||this.subCat.title==""||this.subCat.cat===""?q.default.fire("Faltan datos","Es necesario los colores de fondo y texto y el nombre de la sub-categor\xEDa.","error"):this.subCat._id?this._blogService.updateArticleSubCat(this.subCat).subscribe({next:e=>{this._webService.consoleLog(e),e.articleSubCat&&(this.subCat={_id:"",title:"",titleEng:"",titleColor:"",buttonColor:"",cat:"",show:!0,create_at:new Date},q.default.fire("Sub-categor\xEDa actualizada","La sub-categor\xEDa fue actualizada con \xE9xito","success"),this.getArticleSubCats.emit())},error:e=>{this._webService.consoleLog(e)}}):this._blogService.createArticleSubCat(this.subCat).subscribe({next:e=>{this._webService.consoleLog(e),e.articleSubCat&&(this.subCat={_id:"",title:"",titleEng:"",titleColor:"",buttonColor:"",cat:"",show:!0,create_at:new Date},q.default.fire("Sub-categor\xEDa creada","La sub-categor\xEDa fue creada con \xE9xito","success"),this.getArticleSubCats.emit())},error:e=>{this._webService.consoleLog(e)}})}onClickChangeSubCat(e){if(!this.article.subCats.includes(e))this.article.subCats.push(e);else{let o=this.article.subCats.indexOf(e);o>-1&&this.article.subCats.splice(o,1)}}subCatBringer(e,o=!1){return this.article.subCats.find(n=>(typeof e!="string"&&e._id?e._id:e.toString())===(typeof n!="string"&&n._id?n._id:n.toString()))}onClickSubCatUpdate(e){this.subCat!==e&&e?this.subCat=e:this.subCat={_id:"",title:"",titleEng:"",titleColor:"",buttonColor:"",cat:"",show:!0,create_at:new Date}}onClickButton(e){switch(!0){case(e.includes("edit\u253CsubCat\u253C")||e.includes("cancel\u253CsubCat\u253C")):let o=this.subCats.find(s=>typeof s!="string"&&s._id?s._id===e.split("\u253C")[2]:s===e.split("\u253C")[2]);this.onClickSubCatUpdate(o);break;case e.includes("delete\u253CsubCat\u253C"):let n=this.subCats.find(s=>typeof s!="string"&&s._id?s._id===e.split("\u253C")[2]:s===e.split("\u253C")[2]);n&&this.onSubmitSubCatDelete(n);break;case e==="aceptCat":console.log("aceptCat"),this.onSubmitSubCat();break;default:break}}cssCreate(){console.log("cssCreate"),this._befService.cssCreate()}static{this.\u0275fac=function(o){return new(o||t)(v(N),v(O),v(V))}}static{this.\u0275cmp=M({type:t,selectors:[["blog-subcat-edit"]],inputs:{article:"article",subCats:"subCats"},outputs:{getArticleSubCats:"getArticleSubCats"},standalone:!1,decls:13,vars:38,consts:[[1,"text-center","bef-my-1_5rem","bef-text-tlight"],[1,"d-flex","justify-content-evenly","align-items-center","flex-wrap"],["class","p-2 text-center bef bef-lh-1_5 bef-bw-0_25rem bef-bs-solid bef-r-25px",3,"exist","ngClass","ngInit",4,"ngFor","ngForOf"],[1,"d-block","my-3"],[1,"d-block","w-75","mx-auto","my-3",3,"changesInput","thingFather","thing","type","labelTitle","placeholder","spans","labelClasses","inputClasses","inputContainerClasses","hrClasses"],["for","subCat.buttonColor"],["type","color","id","subCat.buttonColor","name","subCat.buttonColor","value","subCat.buttonColor",3,"ngModelChange","ngModel"],["for","subCat.titleColor"],["type","color","id","subCat.titleColor","name","subCat.titleColor","value","subCat.titleColor",3,"ngModelChange","ngModel"],[3,"clicked","buttonComboClass","buttons"],[1,"p-2","text-center","bef","bef-lh-1_5","bef-bw-0_25rem","bef-bs-solid","bef-r-25px",3,"ngInit","exist","ngClass"],[3,"click"]],template:function(o,n){o&1&&(l(0,"h3",0),b(1,` Selecciona las sub-categor\xEDas del art\xEDculo
`),p(),l(2,"div",1),g(3,Xt,4,20,"div",2),p(),l(4,"div",3)(5,"generic-input",4),f("changesInput",function(){return null}),p(),l(6,"label",5),b(7," Color del fondo de la sub-categor\xEDa "),l(8,"input",6),A("ngModelChange",function(h){return I(n.subCat.buttonColor,h)||(n.subCat.buttonColor=h),h}),f("ngModelChange",function(){return n.cssCreate()}),p()(),l(9,"label",7),b(10," Color de las letras de la sub-categor\xEDa "),l(11,"input",8),A("ngModelChange",function(h){return I(n.subCat.titleColor,h)||(n.subCat.titleColor=h),h}),f("ngModelChange",function(){return n.cssCreate()}),p()(),l(12,"generic-group-buttons",9),f("clicked",function(h){return n.onClickButton(h)}),p()()),o&2&&(a(3),_("ngForOf",n.subCats),a(2),_("thingFather",n.subCat)("thing","title")("type","text")("labelTitle","SubCategor\xEDa")("placeholder","SubCategor\xEDa")("spans",w(24,ft,D(23,Yt)))("labelClasses","bef-text-tlight")("inputClasses","bef-text-fullYellow w-100 border-0 bg-transparent")("inputContainerClasses","d-flex bef bef-w-100per align-items-center")("hrClasses","bef-bg-tlight"),a(),P("btn d-block w-75 mx-auto my-2 bef bef-bg-",n.subCat.buttonColor.replace("#","HASH")||"dark"," bef-text-",n.subCat.titleColor.replace("#","HASH")||"light",""),a(2),k("ngModel",n.subCat.buttonColor),a(),P("btn d-block w-75 mx-auto my-2 bef bef-bg-",n.subCat.buttonColor.replace("#","HASH")||"dark"," bef-text-",n.subCat.titleColor.replace("#","HASH")||"light",""),a(2),k("ngModel",n.subCat.titleColor),a(),_("buttonComboClass","d-flex justify-content-center")("buttons",n.subCat._id?B(31,gt,B(26,Pt,"cancel\u253CsubCat\u253C"+n.subCat._id,"cancel\u253CsubCat\u253C"+n.subCat._id),w(29,bt,!n.subCat.title)):w(36,ft,w(34,bt,!n.subCat.title))))},dependencies:[Ce,H,ne,oe,re,z,le,ce],encapsulation:2})}}return t})();var W=Ee(Fe());var xt=(t,r,e)=>({text:t,textcolor:r,linkcolor:e});function Kt(t,r){if(t&1){let e=C();l(0,"button",26),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.editSectionBtn(n._id))}),L(),l(1,"svg",27),x(2,"path",28)(3,"path",29),p()()}}function ei(t,r){if(t&1){let e=C();l(0,"button",26),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.deleteSection(n._id))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function ti(t,r){if(t&1){let e=C();l(0,"button",32),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.editSectionBtn(n._id))}),b(1," X "),p()}}function ii(t,r){if(t&1&&(l(0,"div",23),g(1,Kt,4,0,"button",24)(2,ei,3,0,"button",24)(3,ti,2,0,"button",25),p()),t&2){let e=c().$implicit,o=c(2);a(),_("ngIf",o.editSection==""),a(),_("ngIf",o.editSection==e._id),a(),_("ngIf",o.editSection==e._id)}}function ni(t,r){if(t&1&&(l(0,"span"),b(1),x(2,"br"),p()),t&2){let e=r.$implicit;a(),y(" ",e," ")}}function oi(t,r){if(t&1){let e=C();l(0,"h3",33),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Ctitle",n))}),g(1,ni,3,1,"span",34),p()}if(t&2){let e=c().$implicit;a(),_("ngForOf",e.title.split(`
`))}}function ri(t,r){t&1&&(l(0,"small",40),b(1," El t\xEDtulo de la secci\xF3n no es v\xE1lido. "),p())}function li(t,r){if(t&1){let e=C();l(0,"h3",35)(1,"button",36),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Ctitle",n))}),b(2," X "),p(),l(3,"textarea",37,0),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.title,n)||(s.title=n),u(n)}),p(),x(5,"hr",38),g(6,ri,2,0,"small",39),p()}if(t&2){let e=$(4),o=c().$implicit;a(3),k("ngModel",o.title),a(3),_("ngIf",!e.valid&&e.touched)}}function ci(t,r){if(t&1&&(l(0,"div",41),x(1,"youtube-player",42),p()),t&2){let e=c().$implicit;a(),S("videoId",e.ytvideo)}}function si(t,r){if(t&1){let e=C();l(0,"button",43),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Cytvideo",n))}),b(1," Insertar un video de youtube "),p()}}function ai(t,r){if(t&1){let e=C();l(0,"button",43),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Cytvideo",n))}),b(1," Cambiar video de youtube "),p()}}function pi(t,r){if(t&1){let e=C();l(0,"div",44)(1,"button",36),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Cytvideo",n))}),b(2," X "),p(),l(3,"input",45,1),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.ytvideo,n)||(s.ytvideo=n),u(n)}),p(),x(5,"hr",46),p()}if(t&2){let e=c().$implicit;a(3),k("ngModel",e.ytvideo)}}function _i(t,r){if(t&1){let e=C();l(0,"button",51),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.deleteFilePrincipal(n.principalFile.file,n.principalFile._id,n))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function di(t,r){if(t&1&&(l(0,"div"),g(1,_i,3,0,"button",47),l(2,"p",48),b(3),p(),l(4,"video",49),x(5,"source",50),b(6," Tu navegador no soporta videos. "),p(),x(7,"br"),p()),t&2){let e=c().$implicit,o=c(2);a(),_("ngIf",o.editSection==e._id),a(2),y(" ",e.principalFile.file," "),a(2),S("src",o.apiBlog+"get-file/"+e.principalFile.file,E)}}function ui(t,r){if(t&1){let e=C();l(0,"button",54),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.deleteFilePrincipal(n.principalFile.file,n.principalFile._id,n))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function mi(t,r){if(t&1&&(l(0,"div")(1,"p",48),b(2),p(),g(3,ui,3,0,"button",52),l(4,"audio",53),x(5,"source",50),b(6," Tu navegador no soporta archivos de audio. "),p(),x(7,"br"),p()),t&2){let e=c().$implicit,o=c(2);a(2),y(" ",e.principalFile.file," "),a(),_("ngIf",o.editSection==e._id),a(2),S("src",o.apiBlog+"get-file/"+e.principalFile.file,E)}}function fi(t,r){if(t&1){let e=C();l(0,"button",58),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.deleteFilePrincipal(n.principalFile.file,n.principalFile._id,n))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function bi(t,r){if(t&1&&(l(0,"div",55),g(1,fi,3,0,"button",56),l(2,"a",57),b(3),p(),x(4,"br"),p()),t&2){let e=c().$implicit,o=c(2);a(),_("ngIf",o.editSection==e._id),a(),S("href",o.apiBlog+"get-file/"+e.principalFile.file,E),a(),y(" ",e.principalFile.file," ")}}function gi(t,r){if(t&1){let e=C();l(0,"button",62),f("click",function(){d(e);let n=c(2).$implicit,s=c(2).$implicit,h=c(2);return u(h.deleteFileMulti(n.file,n._id,s))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function Ci(t,r){if(t&1&&(l(0,"div"),g(1,gi,3,0,"button",59),l(2,"p",60),b(3),p(),l(4,"video",61),x(5,"source",50),b(6," Tu navegador no soporta videos. "),p()()),t&2){let e=c().$implicit,o=c(2).$implicit,n=c(2);a(),_("ngIf",n.editSection==o._id),a(2),y(" ",e.file," "),a(2),S("src",n.apiBlog+"get-file/"+e.file,E)}}function xi(t,r){if(t&1&&(l(0,"div"),g(1,Ci,7,3,"div",4),p()),t&2){let e=r.$implicit;a(),_("ngIf",e.type=="mp4"||e.type=="webm")}}function hi(t,r){if(t&1&&(l(0,"div"),g(1,xi,2,1,"div",34),x(2,"br"),p()),t&2){let e=c().$implicit;a(),_("ngForOf",e.files)}}function vi(t,r){if(t&1){let e=C();l(0,"slide")(1,"img",73),f("click",function(){d(e),c(2);let n=$(4);return u(n.show())}),p(),l(2,"div",74)(3,"span",75),b(4),p()()()}if(t&2){let e=c().$implicit,o=c(4);a(),S("src",o.apiBlog+"get-file/"+e.file,E),S("alt",e.file),S("title",e.file),a(3),y(" ",e.file," ")}}function Si(t,r){if(t&1&&(l(0,"div"),g(1,vi,5,4,"slide",4),p()),t&2){let e=r.$implicit;a(),_("ngIf",e.type=="jpg"||e.type=="png"||e.type=="gif"||e.type=="webp"||e.type=="jpeg")}}function wi(t,r){if(t&1){let e=C();l(0,"button",79),f("click",function(){d(e);let n=c(2).$implicit,s=c(2).$implicit,h=c(2);return u(h.deleteFileMulti(n.file,n._id,s))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function yi(t,r){if(t&1&&(l(0,"slide"),g(1,wi,3,0,"button",76),l(2,"a",77),x(3,"img",78),p(),l(4,"div",74)(5,"p",75),b(6),p()()()),t&2){let e=c().$implicit,o=c(2).$implicit,n=c(2);a(),_("ngIf",n.editSection==o._id),a(),S("href",n.apiBlog+"get-file/"+e.file,E),S("title",e.file),a(),S("src",n.apiBlog+"get-file/"+e.file,E),S("alt",e.file),S("title",e.file),a(3),y(" ",e.file," ")}}function Ei(t,r){if(t&1&&(l(0,"div"),g(1,yi,7,7,"slide",4),p()),t&2){let e=r.$implicit;a(),_("ngIf",e.type=="jpg"||e.type=="png"||e.type=="gif"||e.type=="webp"||e.type=="jpeg")}}function ki(t,r){if(t&1){let e=C();l(0,"div",63)(1,"carousel",64),g(2,Si,2,1,"div",34),p(),l(3,"div",65,2)(5,"div",66)(6,"div",67)(7,"div",68)(8,"h4",69),b(9," Carrusel de im\xE1genes "),p(),l(10,"button",70),f("click",function(){d(e);let n=$(4);return u(n.hide())}),l(11,"span",71),b(12,"x"),p()()(),l(13,"div",72),x(14,"br"),l(15,"carousel",64),g(16,Ei,2,1,"div",34),p(),x(17,"br"),p()()()()()}if(t&2){let e=c().$implicit;a(),_("interval",2e3),a(),_("ngForOf",e.files),a(13),_("interval",2e3),a(),_("ngForOf",e.files)}}function Ii(t,r){if(t&1){let e=C();l(0,"button",83),f("click",function(){d(e);let n=c(2).$implicit,s=c(2);return u(s.deleteFilePrincipal(n.principalFile.file,n.principalFile._id,n))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function Ai(t,r){if(t&1&&(l(0,"div",80),g(1,Ii,3,0,"button",81),x(2,"img",82),p()),t&2){let e=c().$implicit,o=c(2);a(),_("ngIf",o.editSection==e._id),a(),S("src",o.apiBlog+"get-file/"+e.principalFile.file,E),S("title",e.principalFile.file),S("alt",e.principalFile.file)}}function Ti(t,r){if(t&1&&(x(0,"div",84),F(1,"linkify"),F(2,"safeHtml")),t&2){let e=c().$implicit,o=c(2);_("innerHTML",j(2,3,j(1,1,Te(5,xt,o.valuefy(e.text),e.textColor,e.linkColor))),Z)}}function Mi(t,r){t&1&&(l(0,"small",88),b(1," El parrafo de la secci\xF3n no es v\xE1lido. "),p())}function Bi(t,r){if(t&1){let e=C();l(0,"div",85)(1,"button",36),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onClickButton("\u253Ctype\u253Cp",n))}),b(2," X "),p(),l(3,"textarea",86,3),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.p,n)||(s.p=n),u(n)}),p(),x(5,"hr",46),g(6,Mi,2,0,"small",87),p()}if(t&2){let e=$(4),o=c().$implicit;a(3),k("ngModel",o.p),a(3),_("ngIf",!e.valid&&e.touched)}}function Vi(t,r){if(t&1){let e=C();l(0,"button",51),f("click",function(){d(e);let n=c(2).$implicit,s=c(2).$implicit,h=c(2);return u(h.deleteFileMulti(n.file,n._id,s))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function Fi(t,r){if(t&1){let e=C();l(0,"div",90)(1,"div")(2,"img",91),f("click",function(){d(e);let n=$(4);return u(n.show())}),p(),l(3,"div",92,2)(5,"div",66)(6,"div",67)(7,"div",68)(8,"h4",93)(9,"span",94),b(10),p()(),l(11,"button",70),f("click",function(){d(e);let n=$(4);return u(n.hide())}),l(12,"span",71),b(13,"x"),p()()(),l(14,"div",95),x(15,"br"),g(16,Vi,3,0,"button",47),l(17,"a",96),x(18,"img",97),p(),x(19,"br"),p()()()()()()}if(t&2){let e=c().$implicit,o=c(2).$implicit,n=c(2);a(2),S("src",n.apiBlog+"get-file/"+e.file,E),S("alt",e.file),S("title",e.file),a(8),je(e.file),a(6),_("ngIf",n.editSection==o._id),a(),S("href",n.apiBlog+"get-file/"+e.file,E),a(),S("src",n.apiBlog+"get-file/"+e.file,E),S("alt",e.file),S("title",e.file)}}function Li(t,r){if(t&1&&(l(0,"div"),g(1,Fi,20,9,"div",89),p()),t&2){let e=r.$implicit;a(),_("ngIf",e.type=="jpg"||e.type=="png"||e.type=="gif"||e.type=="webp"||e.type=="jpeg")}}function $i(t,r){if(t&1&&(l(0,"div"),g(1,Li,2,1,"div",34),p()),t&2){let e=c().$implicit;a(),_("ngForOf",e.files)}}function Di(t,r){if(t&1){let e=C();l(0,"button",101),f("click",function(){d(e);let n=c().$implicit,s=c(2).$implicit,h=c(2);return u(h.deleteFileMulti(n.file,n._id,s))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function Hi(t,r){if(t&1&&(l(0,"div"),g(1,Di,3,0,"button",99),l(2,"a",100),b(3),p()()),t&2){let e=r.$implicit,o=c(2).$implicit,n=c(2);a(),_("ngIf",n.editSection==o._id),a(),S("href",n.apiBlog+"get-file/"+e.file,E),a(),y(" ",e.file," ")}}function zi(t,r){if(t&1&&(l(0,"div",98)(1,"h5",60),b(2,"Descargas:"),p(),x(3,"br"),g(4,Hi,4,3,"div",34),x(5,"br"),p()),t&2){let e=c().$implicit;a(4),_("ngForOf",e.files)}}function Wi(t,r){if(t&1){let e=C();l(0,"button",54),f("click",function(){d(e);let n=c(2).$implicit,s=c(2).$implicit,h=c(2);return u(h.deleteFileMulti(n.file,n._id,s))}),L(),l(1,"svg",30),x(2,"path",31),p()()}}function ji(t,r){if(t&1&&(l(0,"div")(1,"p",60),b(2),p(),g(3,Wi,3,0,"button",52),l(4,"audio",53),x(5,"source",50),b(6," Tu navegador no soporta archivos de audio. "),p()()),t&2){let e=c().$implicit,o=c(2).$implicit,n=c(2);a(2),y(" ",e.file," "),a(),_("ngIf",n.editSection==o._id),a(2),S("src",n.apiBlog+"get-file/"+e.file,E)}}function Oi(t,r){if(t&1&&(l(0,"div"),g(1,ji,7,3,"div",4),p()),t&2){let e=r.$implicit;a(),_("ngIf",e.type=="mp3"||e.type=="mpeg"||e.type=="wav"||e.type=="ogg")}}function Ni(t,r){if(t&1&&(l(0,"div"),g(1,Oi,2,1,"div",34),x(2,"br"),p()),t&2){let e=c().$implicit;a(),_("ngForOf",e.files)}}function Yi(t,r){if(t&1){let e=C();l(0,"div")(1,"app-file-uploader",102),f("pre_loader",function(n){d(e);let s=c(3);return u(s.pre_load(n))})("recoverThing",function(n){d(e);let s=c(3);return u(s.recoverThingFather(n))}),p()()}if(t&2){let e=c().$implicit;a(),_("type","blog")("typeMeta","one")("typeThingComRes","principal")("thing",e.principalFile)("thingInside",!0)("id",e._id)}}function Pi(t,r){if(t&1){let e=C();l(0,"div")(1,"app-file-uploader",102),f("pre_loader",function(n){d(e);let s=c(3);return u(s.pre_load(n))})("recoverThing",function(n){d(e);let s=c(3);return u(s.recoverThingFather(n))}),p()()}if(t&2){let e=c().$implicit;a(),_("type","blog")("typeMeta","multi")("typeThingComRes","multi")("thing",e.files)("thingInside",!0)("thing",e)("id",e._id)}}function Ri(t,r){if(t&1){let e=C();l(0,"div")(1,"div",103)(2,"label",104),b(3," Color del fondo de la secci\xF3n "),l(4,"input",105),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.bgColor,n)||(s.bgColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c(3);return u(n.cssCreate())}),p()()(),l(5,"div",103)(6,"label",106),b(7," Color de las letras de la secci\xF3n "),l(8,"input",107),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.textColor,n)||(s.textColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c(3);return u(n.cssCreate())}),p()()(),l(9,"div",103)(10,"label",108),b(11," Color de los links de la secci\xF3n "),l(12,"input",109),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.linkColor,n)||(s.linkColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c(3);return u(n.cssCreate())}),p()()(),l(13,"div",103)(14,"label",110),b(15," Color del t\xEDtulo de la secci\xF3n "),l(16,"input",111),A("ngModelChange",function(n){d(e);let s=c().$implicit;return I(s.titleColor,n)||(s.titleColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c(3);return u(n.cssCreate())}),p()()()()}if(t&2){let e=c().$implicit;a(4),k("ngModel",e.bgColor),a(4),k("ngModel",e.textColor),a(4),k("ngModel",e.linkColor),a(4),k("ngModel",e.titleColor)}}function Ui(t,r){if(t&1){let e=C();l(0,"div",112)(1,"button",113),f("click",function(){d(e);let n=c().$implicit,s=c(2);return u(s.onSubmitSectionEdit(n))}),b(2," Editar secci\xF3n "),p()()}}function Gi(t,r){if(t&1&&(l(0,"div",7)(1,"div",8),g(2,ii,4,3,"div",9)(3,oi,2,1,"h3",10)(4,li,7,2,"h3",11),x(5,"hr",12),g(6,ci,2,1,"div",13)(7,si,2,0,"button",14)(8,ai,2,0,"button",14)(9,pi,6,1,"div",15)(10,di,8,3,"div",4)(11,mi,8,3,"div",4)(12,bi,5,3,"div",16)(13,hi,3,1,"div",4)(14,ki,18,4,"div",17)(15,Ai,3,4,"div",18)(16,Ti,3,9,"div",19)(17,Bi,7,2,"div",20),l(18,"div"),g(19,$i,2,1,"div",4)(20,zi,6,1,"div",21)(21,Ni,3,1,"div",4)(22,Yi,2,6,"div",4)(23,Pi,2,7,"div",4),p(),g(24,Ri,17,4,"div",4),x(25,"br"),g(26,Ui,3,0,"div",22),x(27,"br"),p()()),t&2){let e=r.$implicit,o=c(2);a(2),_("ngIf",o.isEdit==!0),a(),_("ngIf",e.title&&!o.edits.includes("title")),a(),_("ngIf",(!e.title||o.edits.includes("title"))&&o.isEdit==!0),a(2),_("ngIf",e.ytvideo&&e.ytvideo!=null&&e.ytvideo!=""),a(),_("ngIf",!e.ytvideo&&!o.edits.includes("ytvideo")&&o.isEdit==!0&&o.editSection==e._id),a(),_("ngIf",e.ytvideo&&!o.edits.includes("ytvideo")&&o.isEdit==!0&&o.editSection==e._id),a(),_("ngIf",o.edits.includes("ytvideo")&&o.isEdit==!0&&o.editSection==e._id),a(),_("ngIf",e.principalFile&&e.principalFile.file&&(e.principalFile.type=="mp4"||e.principalFile.type=="webm")),a(),_("ngIf",e.principalFile&&e.principalFile.file&&(e.principalFile.type=="mp3"||e.principalFile.type=="mpeg"||e.principalFile.type=="wav"||e.principalFile.type=="ogg")),a(),_("ngIf",e.principalFile&&e.principalFile.file&&e.principalFile.type!="mp3"&&e.principalFile.type!="mpeg"&&e.principalFile.type!="wav"&&e.principalFile.type!="ogg"&&e.principalFile.type!="jpg"&&e.principalFile.type!="png"&&e.principalFile.type!="webp"&&e.principalFile.type!="gif"&&e.principalFile.type!="jpeg"&&e.principalFile.type!="mp4"&&e.principalFile.type!="webm"),a(),_("ngIf",e.files),a(),_("ngIf",e.files&&e.files.length>1),a(),_("ngIf",e.principalFile&&e.principalFile.file&&e.principalFile.file!="null"&&(e.principalFile.type=="jpg"||e.principalFile.type=="png"||e.principalFile.type=="webp"||e.principalFile.type=="gif"||e.principalFile.type=="jpeg")),a(),_("ngIf",e.p),a(),_("ngIf",(!e.p||o.edits.includes("p"))&&o.isEdit==!0&&o.editSection==e._id),a(2),_("ngIf",e.files&&e.files.length==1),a(),_("ngIf",e.files&&e.files.length>=1),a(),_("ngIf",e.files),a(),_("ngIf",o.isEdit==!0&&o.editSection==e._id),a(),_("ngIf",o.isEdit==!0&&o.editSection==e._id),a(),_("ngIf",o.isEdit==!0&&o.editSection==e._id),a(2),_("ngIf",o.isEdit==!0&&o.editSection==e._id)}}function Xi(t,r){if(t&1&&(l(0,"section"),g(1,Gi,28,22,"div",6),p()),t&2){let e=c();a(),_("ngForOf",e.article.sections)}}function qi(t,r){if(t&1&&(l(0,"span"),b(1),x(2,"br"),p()),t&2){let e=r.$implicit;a(),y(" ",e," ")}}function Ji(t,r){if(t&1){let e=C();l(0,"h3",33),f("click",function(){d(e);let n=c(2);return u(n.onClickButton("\u253Ctype\u253Ctitle",n.section))}),g(1,qi,3,1,"span",34),p()}if(t&2){let e=c(2);a(),_("ngForOf",e.section.title.split(`
`))}}function Zi(t,r){t&1&&(l(0,"small",40),b(1," El t\xEDtulo de la secci\xF3n no es v\xE1lido. "),p())}function Qi(t,r){if(t&1){let e=C();l(0,"h3",35)(1,"button",36),f("click",function(){d(e);let n=c(2);return u(n.onClickButton("\u253Ctype\u253Ctitle",n.section))}),b(2," X "),p(),l(3,"textarea",120,0),A("ngModelChange",function(n){d(e);let s=c(2);return I(s.section.title,n)||(s.section.title=n),u(n)}),f("keydown.esc",function(){d(e);let n=c(2);return u(n.onClickButton("\u253Ctype\u253Ctitle",n.section))}),p(),x(5,"hr",38),g(6,Zi,2,0,"small",39),p()}if(t&2){let e=$(4),o=c(2);a(3),k("ngModel",o.section.title),a(3),_("ngIf",!e.valid&&e.touched)}}function Ki(t,r){if(t&1&&(x(0,"div",84),F(1,"linkify"),F(2,"safeHtml")),t&2){let e=c(2);_("innerHTML",j(2,3,j(1,1,Te(5,xt,e.valuefy(e.section.text),e.section.textColor,e.section.linkColor))),Z)}}function en(t,r){t&1&&(l(0,"small",88),b(1," El parrafo de la secci\xF3n no es v\xE1lido. "),p())}function tn(t,r){if(t&1){let e=C();l(0,"div",85)(1,"button",36),f("click",function(){d(e);let n=c(2);return u(n.onClickButton("\u253Ctype\u253Ctext",n.section))}),b(2," X "),p(),l(3,"textarea",121,3),A("ngModelChange",function(n){d(e);let s=c(2);return I(s.section.text,n)||(s.section.text=n),u(n)}),p(),x(5,"hr",46),g(6,en,2,0,"small",87),p()}if(t&2){let e=$(4),o=c(2);a(3),k("ngModel",o.section.text),a(3),_("ngIf",!e.valid&&e.touched)}}function nn(t,r){if(t&1){let e=C();l(0,"div",112)(1,"button",113),f("click",function(){d(e);let n=c(2);return u(n.onSubmitSectionNew())}),b(2," Crear secci\xF3n "),p()()}}function on(t,r){if(t&1){let e=C();l(0,"section",114),g(1,Ji,2,1,"h3",10)(2,Qi,7,2,"h3",11),x(3,"hr",115),g(4,Ki,3,9,"div",19)(5,tn,7,2,"div",20),l(6,"div")(7,"div",103)(8,"label",116),b(9," Color del fondo de la secci\xF3n "),l(10,"input",105),A("ngModelChange",function(n){d(e);let s=c();return I(s.section.bgColor,n)||(s.section.bgColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c();return u(n.cssCreate())}),p()()(),l(11,"div",103)(12,"label",117),b(13," Color de las letras de la secci\xF3n "),l(14,"input",107),A("ngModelChange",function(n){d(e);let s=c();return I(s.section.textColor,n)||(s.section.textColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c();return u(n.cssCreate())}),p()()(),l(15,"div",103)(16,"label",118),b(17," Color de los links de la secci\xF3n "),l(18,"input",109),A("ngModelChange",function(n){d(e);let s=c();return I(s.section.linkColor,n)||(s.section.linkColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c();return u(n.cssCreate())}),p()()(),l(19,"div",103)(20,"label",119),b(21," Color del t\xEDtulo de la secci\xF3n "),l(22,"input",111),A("ngModelChange",function(n){d(e);let s=c();return I(s.section.titleColor,n)||(s.section.titleColor=n),u(n)}),f("ngModelChange",function(){d(e);let n=c();return u(n.cssCreate())}),p()()()(),x(23,"br"),g(24,nn,3,0,"div",22),x(25,"br"),p()}if(t&2){let e=c();a(),_("ngIf",e.section.title&&!e.edits.includes("title")),a(),_("ngIf",(!e.section.title||e.edits.includes("title"))&&e.isEdit==!0),a(2),_("ngIf",e.section.text),a(),_("ngIf",(!e.section.text||e.edits.includes("text"))&&e.isEdit==!0),a(5),k("ngModel",e.section.bgColor),a(4),k("ngModel",e.section.textColor),a(4),k("ngModel",e.section.linkColor),a(4),k("ngModel",e.section.titleColor),a(2),_("ngIf",e.isEdit==!0)}}var ht=(()=>{class ArticleSectionsComponent{constructor(t,r,e){this._blogService=t,this._webService=r,this._befService=e,this.section={_id:"",title:"",titleEng:"",text:"",textEng:"",article:"",principalFile:"",files:[],order:0,titleColor:"",textColor:"",linkColor:"",bgColor:"",show:!0,insertions:[]},this.isEdit=!1,this.getArticle=new J,this.editSection="",this.edits=[]}ngOnInit(){this.cssCreate()}onSubmitSectionNew(){this._blogService.createArticleSection(this.section).subscribe({next:t=>{this._webService.consoleLog(t),t.section?(this.section={_id:"",title:"",titleEng:"",text:"",textEng:"",article:"",principalFile:"",files:[],order:0,titleColor:"",textColor:"",linkColor:"",bgColor:"",show:!0,insertions:[]},this.article.sections.push(t.section._id),this._blogService.updateArticle(this.article).subscribe({next:r=>{r.article&&(this.article=r.article,W.default.fire("Secci\xF3n creada","La secci\xF3n fue creada con \xE9xito","success"),this.getArticle.emit())},error:r=>{this._webService.consoleLog(r),W.default.fire("Fallo en la creaci\xF3n","La secci\xF3n no fue creada con \xE9xito","error"),this.getArticle.emit()}})):(W.default.fire("Fallo en la creaci\xF3n","La secci\xF3n no fue creada con \xE9xito","error"),this.getArticle.emit())},error:t=>{this._webService.consoleLog(t),W.default.fire("Fallo en la creaci\xF3n","La secci\xF3n no fue creada con \xE9xito","error"),this.getArticle.emit()}})}deleteSection(t){W.default.fire({title:"\xBFEstas seguro?",text:"\xA1Una vez borrada la secci\xF3n, ya no se podr\xE1 recuperar!",icon:"warning",showCancelButton:!0,confirmButtonText:"Ok",cancelButtonText:"Cancel"}).then(r=>{r&&r.isConfirmed&&r.isConfirmed===!0?this._blogService.deleteArticleSection(t).subscribe({next:e=>{W.default.fire({title:"\xA1Secci\xF3n borrada!",icon:"success"}),this.getArticle.emit(),this.isEdit=this.isEdit!==!0?!0:this.isEdit},error:e=>{this.getArticle.emit(),this._webService.consoleLog(e)}}):W.default.fire("Calma, nada se borr\xF3")})}onSubmitSectionEdit(t){this.article._id&&t._id&&this._blogService.updateArticleSection(t).subscribe({next:r=>{this._webService.consoleLog(r),r.section?W.default.fire("Secci\xF3n editada","La secci\xF3n fue editada con \xE9xito","success"):W.default.fire("Fallo en la edici\xF3n","La secci\xF3n no fue editada con \xE9xito","error"),this.getArticle.emit()},error:r=>{this._webService.consoleLog(r),this.getArticle.emit(),W.default.fire("Fallo en la edici\xF3n","La secci\xF3n no fue editada con \xE9xito","error")}})}editSectionBtn(t){this.editSection===t?this.editSection="":(this.editSection=t,this.edits=["title","p","ytvideo"])}onClickButton(t,r){switch(!0){case t.includes("\u253Ctype\u253C"):if(this.isEdit&&this.editSection===r._id||r._id===this.section._id){let e=t.split("\u253C")[2];this._webService.consoleLog(e),this.edits.includes(e)?(this.edits=this.edits.filter(o=>o!==e),this._webService.consoleLog(this.edits)):this.edits.push(e),this._webService.consoleLog(this.edits)}break;default:break}}pre_load(t,r="song"){return ze(this,null,function*(){try{switch(this._webService.consoleLog(t.typeThingComRes),t.typeThingComRes){default:return""}return""}catch(e){this._webService.consoleLog(e);let o="";return e.error?(o=e.error.message,e.error.errorMessage&&(o+="<br/>"+e.error.errorMessage)):o=e.message,W.default.fire({title:"Error",html:`Fallo en la petici\xF3n.
          <br/>
          ${o}`,icon:"error",customClass:{popup:"bef bef-bg-fullRed",title:"bef bef-text-tdark",closeButton:"bef bef-bg-fullYellow",confirmButton:"bef bef-bg-fullGreen"}}),""}})}deleteFilePrincipal(t,r,e){let o=e._id}deleteFileMulti(t,r,e){let o=e._id}recoverThingFather(t){switch(this._webService.consoleLog(t),!0){case t.url.includes("principal"):if(this.editSection!=="")for(let r of this.article.sections)typeof r!="string"&&r._id===this.editSection&&(this.section=r,this.section.principalFile=t.thing,this.onSubmitSectionEdit(this.section),this.section={_id:"",title:"",titleEng:"",text:"",textEng:"",article:"",principalFile:"",files:[],order:0,titleColor:"",textColor:"",linkColor:"",bgColor:"",show:!0,insertions:[]});break;case t.url.includes("multi"):this.section=t.thing,this.onSubmitSectionEdit(this.section),this.section={_id:"",title:"",titleEng:"",text:"",textEng:"",article:"",principalFile:"",files:[],order:0,titleColor:"",textColor:"",linkColor:"",bgColor:"",show:!0,insertions:[]};break}}valuefy(text){let matches=text.match(/\{\{[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-\_\.]{2,256}\}\}/gi);if(matches){let i=0,match;for(match of matches){let oldMatch=match;match=match.replace("{{",""),match=match.replace("}}",""),match.includes("this.")||(match="this."+match);let nmatches=match.match(/this.[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-\_]{2,256}.[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-]{2,256}/gi);if(nmatches){match=match.split(".");let i=0,nmatch="",error=!1;for(let m of match){if(i===0)nmatch=m;else if(nmatch!==void 0){let nmatchEval=nmatch+"."+m,matchEval=eval(nmatchEval);matchEval!==void 0?nmatch=nmatch+"."+m:(nmatch=void 0,error=!0)}if(i++,i>=match.length)if(error===!1){let matchEval=eval(nmatch);matchEval!=null?text=text.replace(oldMatch,matchEval):text=text.replace(oldMatch,"")}else text=text.replace(oldMatch,"")}}else{let matchEval=eval(match);matchEval!=null?text=text.replace(oldMatch,matchEval):text=text.replace(oldMatch,"")}i++}return text}else return text}cssCreate(){this._befService.cssCreate()}static{this.\u0275fac=function(r){return new(r||ArticleSectionsComponent)(v(N),v(O),v(V))}}static{this.\u0275cmp=M({type:ArticleSectionsComponent,selectors:[["article-sections"]],inputs:{article:"article",isEdit:"isEdit",apiBlog:"apiBlog"},outputs:{getArticle:"getArticle"},standalone:!1,decls:2,vars:2,consts:[["title","ngModel"],["ytvideo","ngModel"],["lgModal","bs-modal"],["p","ngModel"],[4,"ngIf"],["class","w-75 mx-auto px-3 rounded bef bef-hmn-360px bef-bg-fullRed",4,"ngIf"],["class","bef bef-my-50px",4,"ngFor","ngForOf"],[1,"bef","bef-my-50px"],[1,"text-dark","w-75","mx-auto","pl-3","pr-3","rounded","bef","bef-hmn-360px","bef-bg-fullRed"],["class","float-right bef bef-ms-MIN25px",4,"ngIf"],["class","d-block mx-auto text-center bef bef-text-fullYellow",3,"click",4,"ngIf"],["class","w-100 d-block mx-auto pl-5 pr-5",4,"ngIf"],[1,"bef","bef-mt-MIN15px","bef-text-tlight"],["class","d-block mx-auto bef bef-w-256px bef-h-144px bef-w-sm-427px bef-h-sm-240px bef-w-md-640px bef-h-md-360px",4,"ngIf"],["class","btn btn-warning d-block mx-auto",3,"click",4,"ngIf"],["class","d-block mx-auto bef bef-wmx-500px w-75",4,"ngIf"],["class","w-75 mx-auto overflow-hidden text-center pt-2 pb-1",4,"ngIf"],["class","d-block my-0 mx-auto bef bef-w-320px",4,"ngIf"],["class","float-left p-3 bef-hmx-330px bef-wmn-150px bef-wmx-50per",4,"ngIf"],["class","pt-3 px-3 bef bef-overflowX-hidden",3,"innerHTML",4,"ngIf"],["class","pt-3 pl-3 pr-3",4,"ngIf"],["class","w-75 mx-auto overflow-hidden",4,"ngIf"],["class","mt-5 mb-5",4,"ngIf"],[1,"float-right","bef","bef-ms-MIN25px"],["class","btn btn-warning mr-2",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 font-weight-normal",3,"click",4,"ngIf"],[1,"btn","btn-warning","mr-2",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-trash-fill"],["fill-rule","evenodd","d","M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"],[1,"btn","btn-warning","mr-2","font-weight-normal",3,"click"],[1,"d-block","mx-auto","text-center","bef","bef-text-fullYellow",3,"click"],[4,"ngFor","ngForOf"],[1,"w-100","d-block","mx-auto","pl-5","pr-5"],[1,"btn","btn-warning","font-weight-normal","float-right",3,"click"],["type","text","name","title","placeholder","T\xEDtulo de la secci\xF3n","required","",1,"w-100","border-0","bg-transparent","bef","bef-text-fullYellow",3,"ngModelChange","ngModel"],[1,"bef","bef-bg-fullYellow"],["class","font-weight-bold bef bef-text-fullYellow",4,"ngIf"],[1,"font-weight-bold","bef","bef-text-fullYellow"],[1,"d-block","mx-auto","bef","bef-w-256px","bef-h-144px","bef-w-sm-427px","bef-h-sm-240px","bef-w-md-640px","bef-h-md-360px"],["SuggestedQuality","hd1080",1,"my-0","mx-auto",3,"videoId"],[1,"btn","btn-warning","d-block","mx-auto",3,"click"],[1,"d-block","mx-auto","bef","bef-wmx-500px","w-75"],["type","text","name","ytvideo","placeholder","Video de youtube (C\xF3digo alfanum\xE9rico final del enlace)",1,"w-100","border-0","bg-transparent","text-center","bef","bef-text-tlight",3,"ngModelChange","ngModel"],[1,"bef","bef-bg-tlight"],["class","btn position-absolute bef bef-s-25px bef-mt-10px bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],[1,"text-center","mt-3","mb-2","bef","bef-text-tlight"],["controls","",1,"bef","bef-wmx-100per","bef-hmx-360px","my-0","mx-auto","d-block","bef-text-tlight"],["type","audio/mpeg",3,"src"],[1,"btn","position-absolute","bef","bef-s-25px","bef-mt-10px","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],["class","btn position-absolute bef bef-s-35px bef-mt-10px bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],["controls","",1,"d-block","mx-auto","bef","bef-text-tlight"],[1,"btn","position-absolute","bef","bef-s-35px","bef-mt-10px","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],[1,"w-75","mx-auto","overflow-hidden","text-center","pt-2","pb-1"],["class","btn position-absolute bef bef-e-35px mt-0 bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"text-center","mt-3","mb-2","bef","bef-text-fullyellow",3,"href"],[1,"btn","position-absolute","bef","bef-e-35px","mt-0","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],["class","btn position-absolute bef bef-s-25px bef-mt-10px bef-z-20 bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],[1,"bef","bef-text-tlight"],["controls","",1,"bef","bef-wmx-100per","bef-text-tlight"],[1,"btn","position-absolute","bef","bef-s-25px","bef-mt-10px","bef-z-20","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],[1,"d-block","my-0","mx-auto","bef","bef-w-320px"],[3,"interval"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-sizes-name",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content","bef","bef-bg-fullRed"],[1,"modal-header","bef","bef-bg-fullRed"],["id","dialog-sizes-name1",1,"modal-title","pull-left","w-100","overflow-hidden","bef","bef-text-tlight"],["type","button","aria-label","Close","aria-label","Close",1,"close","pull-right","bef","bef-text-tlight",3,"click"],["aria-hidden","true"],[1,"modal-body","bef","bef-bg-fullRed"],[1,"d-block","mx-auto","cursor-pointer","bef","bef-wmx-300px",3,"click","src","alt","title"],[1,"carousel-caption","d-none","d-md-block"],[1,"mx-auto","textSHB","w-100","overflow-hidden","bef","bef-text-tlight"],["class","btn position-absolute bef bef-s-50per bef-mt-10px bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","title"],[1,"d-block","mx-auto","bef","bef-wmx-100per",3,"src","alt","title"],[1,"btn","position-absolute","bef","bef-s-50per","bef-mt-10px","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],[1,"float-left","p-3","bef-hmx-330px","bef-wmn-150px","bef-wmx-50per"],["class","btn position-absolute bef bef-e-10px bef-mb-MIN75px bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid",3,"click",4,"ngIf"],[1,"d-block","mx-auto","bef","bef-hmx-300px","bef-wmx-100per",3,"src","title","alt"],[1,"btn","position-absolute","bef","bef-e-10px","bef-mb-MIN75px","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid",3,"click"],[1,"pt-3","px-3","bef","bef-overflowX-hidden",3,"innerHTML"],[1,"pt-3","pl-3","pr-3"],["type","text","name","p","placeholder","P\xE1rrafo","required","",1,"border-0","bg-transparent","w-100","bef","bef-text-tlight",3,"ngModelChange","ngModel"],["class","font-weight-bold bef bef-text-tlight",4,"ngIf"],[1,"font-weight-bold","bef","bef-text-tlight"],["class","d-block mx-auto bef bef-wmx-100per bef-hmx-500px bef-oveflow-hidden",4,"ngIf"],[1,"d-block","mx-auto","bef","bef-wmx-100per","bef-hmx-500px","bef-oveflow-hidden"],[1,"d-block","mx-auto","cursor-pointer","bef","bef-wmx-100per",3,"click","src","alt","title"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-sizes-name1",1,"modal","fade"],["id","dialog-sizes-name1",1,"modal-title","pull-left","w-75","overflow-hidden","bef","bef-text-tlight"],[1,"w-100","overflow-hidden"],[1,"modal-body","bef","bef-bg-tlight"],["target","_blank","rel","noopener noreferrer",1,"d-block","mx-auto",3,"href"],[1,"d-block","my-0","mx-auto","bef","bef-wmx-100per",3,"src","alt","title"],[1,"w-75","mx-auto","overflow-hidden"],["class","btn bef bef-z-20 bef-text-tlight bef-bc-tlight bef-bw-1px bef-bs-solid bef-s-35px bef-mt-10px",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"bef","bef-text-fullYellow",3,"href"],[1,"btn","bef","bef-z-20","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid","bef-s-35px","bef-mt-10px",3,"click"],[3,"pre_loader","recoverThing","type","typeMeta","typeThingComRes","thing","thingInside","id"],[1,"d-block","w-75","mx-auto","pb-2","text-white"],["for","section.bgColor",1,"btn","d-block","w-100","mx-auto","bef","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid"],["type","color","id","section.bgColor","name","section.bgColor","value","section.bgColor",3,"ngModelChange","ngModel"],["for","section.textColor",1,"btn","d-block","w-100","mx-auto","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid"],["type","color","id","section.textColor","name","section.textColor","value","section.textColor",3,"ngModelChange","ngModel"],["for","section.linkColor",1,"btn","d-block","w-100","mx-auto","bef","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid"],["type","color","id","section.linkColor","name","section.linkColor","value","section.linkColor",3,"ngModelChange","ngModel"],["for","section.titleColor",1,"btn","d-block","w-100","mx-auto","bef-text-tlight","bef-bc-tlight","bef-bw-1px","bef-bs-solid"],["type","color","id","section.titleColor","name","section.titleColor","value","section.titleColor",3,"ngModelChange","ngModel"],[1,"mt-5","mb-5"],[1,"mx-auto","d-block","btn","btn-warning","text-center","text-primary","border-0",3,"click"],[1,"w-75","mx-auto","px-3","rounded","bef","bef-hmn-360px","bef-bg-fullRed"],[1,"bef","bef-mt-MIN15px","bef-bg-tlight"],["for","section.bgColor",1,"btn","d-block","w-100","mx-auto","bef","bef-bf-fullRed"],["for","section.textColor",1,"btn","d-block","w-100","mx-auto","bef","bef-bf-fullRed","bef-text-tlight"],["for","section.linkColor",1,"btn","d-block","w-100","mx-auto","bef","bef-bg-fullRed","bef-text-tlight"],["for","section.titleColor",1,"btn","d-block","w-100","mx-auto","bef","bef-bg-fullRed","bef-text-tlight"],["type","text","name","title","placeholder","T\xEDtulo de la secci\xF3n","required","",1,"w-100","border-0","bg-transparent","bef","bef-text-fullYellow",3,"ngModelChange","keydown.esc","ngModel"],["type","text","name","text","placeholder","P\xE1rrafo","required","",1,"border-0","bg-transparent","w-100","bef-text-tlight",3,"ngModelChange","ngModel"]],template:function(r,e){r&1&&g(0,Xi,2,1,"section",4)(1,on,26,9,"section",5),r&2&&(_("ngIf",e.article.sections),a(),_("ngIf",e.article._id&&e.article._id!=""&&e.isEdit==!0))},dependencies:[H,Q,ne,oe,Re,re,Ue,Ke,Qe,Xe,Ge,Se,we],encapsulation:2})}}return ArticleSectionsComponent})();var pe=t=>[t],ln=()=>({text:"El t\xEDtulo es obligatorio.",evalThing:"required",spanClass:"bef bef-text-fullYellow"}),cn=()=>({type:"cancel\u253Ctype\u253Ctitle",classButton:"mx-2 bef-w-50px bef-h-50px",customHtml:"cancel\u253Ctype\u253Ctitle",tooltip:"Cerrar Edici\xF3n"}),sn=t=>({text:t,textcolor:"bef-text-tlight",linkcolor:"bef-link-fullYellow"}),an=()=>({type:"cancel\u253Ctype\u253Cintro",classButton:"mx-2 bef-w-50px bef-h-50px",customHtml:"cancel\u253Ctype\u253Cintro",tooltip:"Cerrar Edici\xF3n"}),pn=t=>({text:t,textcolor:"bef-text-tlight",linkcolor:"bef-text-fullYellow"}),_n=()=>({type:"cancel\u253Ctype\u253Cint",classButton:"mx-2 bef-w-50px bef-h-50px",customHtml:"cancel\u253Ctype\u253Cint",tooltip:"Cerrar Edici\xF3n"});function dn(t,r){if(t&1){let e=C();l(0,"generic-group-buttons",13),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()}if(t&2){let e=c();_("buttonComboClass","position-fixed d-flex justify-content-start bef bef-t-9rem bef-e-3rem")("buttons",e.buttonsToEdit)}}function un(t,r){if(t&1){let e=C();l(0,"p",14),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())}),b(1),F(2,"amLocale"),F(3,"amDateFormat"),p()}if(t&2){let e=c();_("exist",!!e.article.create_at),a(),y(" ",Me(3,5,Me(2,2,e.article.create_at,"es"),"LL"),`
`)}}function mn(t,r){if(t&1&&x(0,"blog-cat-badgets",15),t&2){let e=c();_("cats",w(2,pe,e.article.cat))("lang",e.lang)}}function fn(t,r){if(t&1&&x(0,"blog-subcat-badgets",16),t&2){let e=c();_("subcats",w(2,pe,e.article.cat.subCats))("lang",e.lang)}}function bn(t,r){if(t&1){let e=C();l(0,"blog-subcat-edit",17),f("getArticleSubCats",function(){d(e);let n=c();return n.getCats(),u(n.getSubCats())}),p()}if(t&2){let e=c();_("article",e.article)("subCats",e.availableSubCats)}}function gn(t,r){if(t&1){let e=C();l(0,"h2",18),F(1,"safeHtml"),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())})("click",function(){d(e);let n=c();return u(n.onClickButton("\u253Ctype\u253Ctitle"))}),p()}if(t&2){let e=c();_("exist",!!e.article.title)("innerHTML",j(1,2,e.article.title.replace(`
`,"<br />")),Z)}}function Cn(t,r){if(t&1){let e=C();l(0,"generic-input",19),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()}if(t&2){let e=c();_("thingFather",e.article)("thing","title")("type","textarea")("placeholder","T\xEDtulo")("spans",w(11,pe,D(10,ln)))("labelClasses","bef bef-text-fullYellow")("inputClasses","bef bef-text-fullYellow w-100 border-0 text-uppercase text-center bef-fs-1_75rem bg-transparent")("inputContainerClasses","w-100 d-flex mx-auto px-5 align-items-center")("hrClasses","bef bef-bg-fullYellow")("buttons",w(14,pe,D(13,cn)))}}function xn(t,r){if(t&1){let e=C();l(0,"section",20),F(1,"linkify"),F(2,"safeHtml"),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())})("click",function(){d(e);let n=c();return u(n.onClickButton("\u253Ctype\u253Cintro"))}),p()}if(t&2){let e=c();_("exist",!!e.article.intro)("innerHTML",j(2,4,j(1,2,w(6,sn,e.valuefy(e.article.intro))).text),Z)}}function hn(t,r){if(t&1){let e=C();l(0,"generic-input",21),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()}if(t&2){let e=c();_("thingFather",e.article)("thing","intro")("type","text")("placeholder","Introducci\xF3n del art\xEDculo")("labelClasses","bef bef-text-fullYellow")("inputClasses","bef bef-text-fullYellow w-100 border-0 text-center bg-transparent")("inputContainerClasses","w-100 d-flex mx-auto px-5 align-items-center")("hrClasses","bef bef-bg-fullYellow")("buttons",w(10,pe,D(9,an)))}}function vn(t,r){if(t&1){let e=C();l(0,"section",22),F(1,"linkify"),F(2,"safeHtml"),f("ngInit",function(){d(e);let n=c();return u(n.cssCreate())})("click",function(){d(e);let n=c();return u(n.onClickButton("\u253Ctype\u253Coutro"))}),p()}if(t&2){let e=c();_("exist",!!e.article.outro)("innerHTML",j(2,4,j(1,2,w(6,pn,e.valuefy(e.article.outro))).text),Z)}}function Sn(t,r){if(t&1){let e=C();l(0,"generic-input",21),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()}if(t&2){let e=c();_("thingFather",e.article)("thing","outro")("type","text")("placeholder","Outro del art\xEDculo")("labelClasses","bef bef-text-fullYellow")("inputClasses","bef bef-text-fullYellow w-100 border-0 text-center bg-transparent")("inputContainerClasses","w-100 d-flex mx-auto px-5 align-items-center")("hrClasses","bef bef-bg-fullYellow")("buttons",w(10,pe,D(9,_n)))}}function wn(t,r){if(t&1){let e=C();l(0,"generic-button",23),f("clicked",function(n){d(e);let s=c();return u(s.onClickButton(n))}),p()}if(t&2){let e=c();_("type","submit")("classButton"," d-block mx-auto my-5 bef-btn-fullYellow")("customHtml",e.article._id?"Editar art\xEDculo":"Crear art\xEDculo")("tooltip",e.article._id?"Editar art\xEDculo":"Crear art\xEDculo")}}var $e=(()=>{class ArticleComponent{constructor(t,r,e,o,n,s,h){this._router=t,this._mainService=r,this._webService=e,this._befService=o,this._blogService=n,this._sharedService=s,this.store=h,this.article={_id:"",title:"",titleEng:"",subtitle:"",subtitleEng:"",insertions:[],cat:"",subCats:[],intro:"",introEng:"",outro:"",outroEng:"",sections:[],tags:"",urltitle:"",coverImg:[],titleColor:"",textColor:"",linkColor:"",bgColor:"",langs:[],show:!0,create_at:new Date},this.cats=[],this.allSubCats=[],this.availableSubCats=[],this.articleSection={_id:"",title:"",titleEng:"",text:"",textEng:"",article:"",principalFile:"",files:[],order:0,titleColor:"",textColor:"",linkColor:"",bgColor:"",show:!0,insertions:[]},this.lang="es",this.url=G.api,this.urlMain=G.api+"/main/",this.urlBlog=G.api+"/blog/",this.document="blog.component.ts",this.customConsoleCSS="background-color: rgba(175, 135, 2, 1); color: white; padding: 1em;",this.isEdit=!1,this.windowWidth=window.innerWidth,this.edits=[],this.buttonsToEdit=[],this.canEdit=!1,this._sharedService.changeEmitted$.subscribe(T=>{if(typeof T=="object"&&T.from!=="blog"&&(T.to==="blog"||T.to==="all"))switch(T.property){case"lang":this.lang=T.thing;break;case"identity":this.identity=T.thing,this.checkIfCanEdit();break;case"windowWidth":this.windowWidth=T.thing;break;case"onlyConsoleMessage":this._webService.consoleLog(T.thing,this.document+" 67",this.customConsoleCSS);break}}),this.main$=h.select(he),this.identity=this._mainService.getIdentity(),this.checkIfCanEdit(),this._webService.consoleLog(this.identity,this.document+" 79",this.customConsoleCSS),this._sharedService.emitChange({from:"blog",to:"all",property:"identity",thing:this.identity}),this.store.dispatch(ie())}ngOnInit(){this.getMain(),this._router.params.subscribe(t=>{this.article._id=t.id||"",this.article._id!==void 0&&this.article._id!==""?this.getArticle():this.onClickIsEdit()}),this.getCats(),this.getSubCats()}getMain(){this.main$.subscribe({next:t=>{t!==void 0&&(this.main=t,this.cssCreate())},error:t=>console.error(t)})}getArticle(){this._blogService.getArticle(this.article._id).subscribe({next:t=>{t?.article?this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS):this.article=t.article,this.bringSubCatsFromSelectedCat()},error:t=>{this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS)}})}getCats(){this._blogService.getArticleCats().subscribe({next:t=>{t!==void 0&&(this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS),t.articleCats?this.cats=t.articleCats:this.cats=[]),this.bringSubCatsFromSelectedCat()},error:t=>{this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS)}})}getSubCats(){this._blogService.getArticleSubCats().subscribe({next:t=>{t!==void 0&&(this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS),t.articleSubCats?this.allSubCats=t.articleSubCats:this.allSubCats=[]),this.bringSubCatsFromSelectedCat()},error:t=>{this._webService.consoleLog(t,this.document+" 165",this.customConsoleCSS)}})}createButtons(){[{condition:!this.isEdit,type:"edit",title:"Editar"},{condition:!!this.isEdit&&!!this.article._id,type:"delete",title:"Borrar"},{condition:!!this.isEdit,type:"cancel",title:"Cancelar"}].forEach(t=>{t.condition&&!this.buttonsToEdit.find(r=>r.type===t.type)&&this.buttonsToEdit.push({type:t.type,classButton:"btn mx-2 bef-w-50px bef-h-50px bef-bg-fullYellow",customHtml:t.type,tooltip:t.title})})}onClickButton(t){switch(this._webService.consoleLog(t),!0){case["edit","cancel"].includes(t):this.onClickIsEdit();break;case t==="delete":break;case t==="submit":break;case t.includes("\u253Ctype\u253C"):let r=t.split("\u253C")[2];this._webService.consoleLog(r),this.edits.includes(r)?(this.edits=this.edits.filter(e=>e!==r),this._webService.consoleLog(this.edits)):this.edits.push(r),this._webService.consoleLog(this.edits);break;default:break}}onClickIsEdit(){this.isEdit=this.article._id?this.canEdit?!this.isEdit:!1:!0,this.edits=(!this.canEdit||!this.isEdit)&&this.article._id!==void 0?[]:["title","ytvideo","intro","outro","stitle","sp","syoutube"],console.log(this.edits),console.log(this.isEdit),this.createButtons()}checkIfCanEdit(){this.canEdit=this.identity&&this.identity.role==="ROLE_ADMIN"}bringSubCatsFromSelectedCat(){if(this.article.cat){let t=this.cats.find(r=>typeof this.article.cat!="string"&&this.article.cat._id?r._id===this.article.cat._id:r._id===this.article.cat);this.availableSubCats=t.subcats.map(r=>((typeof r=="string"||!r._id)&&(r=this.allSubCats.find(e=>typeof e=="string"||!e._id?e===r:e._id===r)),r))}else this.availableSubCats=[]}valuefy(text){let matches=text.match(/\{\{[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-\_\.]{2,256}\}\}/gi);if(matches){let i=0,match;for(match of matches){let oldMatch=match;match=match.replace("{{",""),match=match.replace("}}",""),match.includes("this.")||(match="this."+match);let nmatches=match.match(/this.[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-\_]{2,256}.[-a-zA-Z0-9\[\]\(\)\"\'\<\>\=\+\-]{2,256}/gi);if(nmatches){match=match.split(".");let i=0,nmatch="",error=!1;for(let m of match){if(i===0)nmatch=m;else if(nmatch!==void 0){let nmatchEval=nmatch+"."+m,matchEval=eval(nmatchEval);matchEval!==void 0?nmatch=nmatch+"."+m:(nmatch=void 0,error=!0)}if(i++,i>=match.length)if(error===!1){let matchEval=eval(nmatch);matchEval!=null?text=text.replace(oldMatch,matchEval):text=text.replace(oldMatch,"")}else text=text.replace(oldMatch,"")}}else{let matchEval=eval(match);matchEval!=null?text=text.replace(oldMatch,matchEval):text=text.replace(oldMatch,"")}i++}return text}else return text}cssCreate(){this._befService.cssCreate()}static{this.\u0275fac=function(r){return new(r||ArticleComponent)(v(xe),v(ee),v(O),v(V),v(N),v(ve),v(te))}}static{this.\u0275cmp=M({type:ArticleComponent,selectors:[["app-article"]],standalone:!1,decls:14,vars:17,consts:[[3,"buttonComboClass","buttons","clicked",4,"ngIf"],["class","text-center bef bef-py-1_5rem",3,"exist","ngInit",4,"ngIf"],[3,"cats","lang",4,"ngIf"],[3,"getArticleCats","catSelected","article","cats"],[3,"subcats","lang",4,"ngIf"],[3,"article","subCats","getArticleSubCats",4,"ngIf"],["class","text-uppercase px-5 my-5 bef bef-text-fullYellow",3,"exist","innerHTML","ngInit","click",4,"ngIf"],["class","d-block w-75 bef bef-wmn-220px mx-auto my-3",3,"thingFather","thing","type","placeholder","spans","labelClasses","inputClasses","inputContainerClasses","hrClasses","buttons","clicked",4,"ngIf"],["class","p-3 text-center font-weight-bold w-75 bef bef-wmn-220px mx-auto bef bef-my-50px bef-oveflowX-hidden",3,"exist","innerHTML","ngInit","click",4,"ngIf"],["class","d-block w-75 bef bef-wmn-220px mx-auto my-3",3,"thingFather","thing","type","placeholder","labelClasses","inputClasses","inputContainerClasses","hrClasses","buttons","clicked",4,"ngIf"],[3,"getArticle","article","isEdit","apiBlog"],["class","p-3 text-center font-weight-bold w-75 bef bef-wmn-220px mx-auto bef bef-overflowX-hidden bef-my-50px",3,"exist","innerHTML","ngInit","click",4,"ngIf"],[3,"type","classButton","customHtml","tooltip","clicked",4,"ngIf"],[3,"clicked","buttonComboClass","buttons"],[1,"text-center","bef","bef-py-1_5rem",3,"ngInit","exist"],[3,"cats","lang"],[3,"subcats","lang"],[3,"getArticleSubCats","article","subCats"],[1,"text-uppercase","px-5","my-5","bef","bef-text-fullYellow",3,"ngInit","click","exist","innerHTML"],[1,"d-block","w-75","bef","bef-wmn-220px","mx-auto","my-3",3,"clicked","thingFather","thing","type","placeholder","spans","labelClasses","inputClasses","inputContainerClasses","hrClasses","buttons"],[1,"p-3","text-center","font-weight-bold","w-75","bef","bef-wmn-220px","mx-auto","bef","bef-my-50px","bef-oveflowX-hidden",3,"ngInit","click","exist","innerHTML"],[1,"d-block","w-75","bef","bef-wmn-220px","mx-auto","my-3",3,"clicked","thingFather","thing","type","placeholder","labelClasses","inputClasses","inputContainerClasses","hrClasses","buttons"],[1,"p-3","text-center","font-weight-bold","w-75","bef","bef-wmn-220px","mx-auto","bef","bef-overflowX-hidden","bef-my-50px",3,"ngInit","click","exist","innerHTML"],[3,"clicked","type","classButton","customHtml","tooltip"]],template:function(r,e){r&1&&(g(0,dn,1,2,"generic-group-buttons",0)(1,un,4,8,"p",1)(2,mn,1,4,"blog-cat-badgets",2),l(3,"blog-cat-edit",3),f("getArticleCats",function(){return e.getCats(),e.getSubCats()})("catSelected",function(){return e.bringSubCatsFromSelectedCat()}),p(),g(4,fn,1,4,"blog-subcat-badgets",4)(5,bn,1,2,"blog-subcat-edit",5)(6,gn,2,4,"h2",6)(7,Cn,1,16,"generic-input",7)(8,xn,3,8,"section",8)(9,hn,1,12,"generic-input",9),l(10,"article-sections",10),f("getArticle",function(){return e.getArticle()}),p(),g(11,vn,3,8,"section",11)(12,Sn,1,12,"generic-input",9)(13,wn,1,4,"generic-button",12)),r&2&&(_("ngIf",!!e.canEdit||!e.article._id),a(),_("ngIf",!!e.article.create_at),a(),_("ngIf",!!e.article.cat&&!!e.article.cat._id),a(),_("article",e.article)("cats",e.cats),a(),_("ngIf",!!e.article.cat&&!!e.article.cat._id&&!!e.article.cat.subCats&&!!(e.article.cat.subCats[0]!=null&&e.article.cat.subCats[0]._id)),a(),_("ngIf",!!e.article.cat),a(),_("ngIf",e.article.title),a(),_("ngIf",e.identity&&(!e.article.title||e.edits.includes("title"))&&e.isEdit==!0),a(),_("ngIf",e.article.intro),a(),_("ngIf",e.identity&&(!e.article.intro||e.edits.includes("intro"))&&e.isEdit==!0),a(),_("article",e.article)("isEdit",e.isEdit)("apiBlog",e.urlBlog),a(),_("ngIf",e.article.outro),a(),_("ngIf",e.identity&&(!e.article.outro||e.edits.includes("outro"))&&e.isEdit==!0),a(),_("ngIf",!!e.isEdit))},dependencies:[Q,qe,z,Ze,le,ce,lt,ct,mt,Ct,ht,et,tt,Se,we],encapsulation:2})}}return ArticleComponent})();var yn=[{path:"",component:U},{path:"article",component:$e},{path:"article/:id",component:$e},{path:":page",component:U},{path:"list-cat/:cat",component:U},{path:"list-cat/:cat/:page",component:U},{path:"list-subcat/:subcat",component:U},{path:"list-subcat/:subcat/:page",component:U},{path:"search/:search",component:U},{path:"search/:search/:page",component:U}],vt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=fe({type:t})}static{this.\u0275inj=ue({imports:[Ve.forChild(yn),Ve]})}}return t})();var ko=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=fe({type:t})}static{this.\u0275inj=ue({imports:[Ne,vt,it]})}}return t})();export{ko as BlogModule};
