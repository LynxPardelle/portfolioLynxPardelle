[supervisord]
nodaemon=true
logfile=/var/log/supervisor/mongo-unified.log
logfile_maxbytes=5MB
loglevel=info
pidfile=/var/run/supervisord.pid
user=root

[program:mongod]
command=/opt/mongo-unified/scripts/start-mongod.sh
autostart=true
autorestart=true
priority=10
stdout_logfile=/var/log/mongo-backup/mongod.out
stderr_logfile=/var/log/mongo-backup/mongod.err

[program:cron]
command=/usr/sbin/cron -f
autostart=true
autorestart=true
priority=20
stdout_logfile=/var/log/mongo-backup/cron.out
stderr_logfile=/var/log/mongo-backup/cron.err

[program:health-monitor]
command=/opt/mongo-unified/scripts/health-monitor.sh
autostart=true
autorestart=true
priority=30
stdout_logfile=/var/log/mongo-backup/health-monitor.out
stderr_logfile=/var/log/mongo-backup/health-monitor.err

[program:metrics-exporter]
command=/opt/mongo-unified/scripts/metrics-exporter.py
autostart=true
autorestart=true
priority=40
stdout_logfile=/var/log/mongo-backup/metrics.out
stderr_logfile=/var/log/mongo-backup/metrics.err
